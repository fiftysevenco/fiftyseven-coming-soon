function globalAnimation(e){e=void 0!==e&&e;var t=$("#global").children().get();return{targets:e?t:t.reverse(),translateY:["100%",0],opacity:[0,1],easing:"easeOutExpo",duration:1200,offset:"-=1600",delay:function(e,t){return 200*t}}}function revealAnimation(e){var t=document.getElementById("fs-monogram"),a=Array.prototype.slice.call(t.querySelectorAll("path")),n=document.getElementById("loader"),i=n.querySelector(".loader-inner");return anime.timeline({loop:!1,autoplay:!1}).add({targets:a,translateX:[-10,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:1200,offset:1500,begin:function(){$body.attr("data-section","intro")},delay:function(e,t){return 100*t}}).add({targets:n,opacity:[0,1],easing:"easeOutExpo",duration:1200,offset:0}).add({targets:i,width:"100%",easing:"easeOutExpo",duration:1e3,offset:"-=1200"}).add({duration:0,delay:100}).add({targets:n,opacity:0,easing:"easeOutExpo",duration:1200,complete:function(){$body.attr("data-section","landing"),e instanceof Function&&e.call()}}).add({targets:a,translateX:[0,10],translateZ:0,opacity:0,easing:"easeOutExpo",duration:1200,offset:"-=1200",delay:function(e,t){return 100*t}})}function landingAnimation(e){e=void 0!==e&&e;var t=document.getElementById("fs-logo"),a=Array.prototype.slice.call(t.querySelectorAll("path")),n=$("#projects a").get(),i=a.length,o=$(Elements.get("landing").value("fsLogoSub"));o.blast(!1).blast({delimiter:"character"});var s=$("#cruise-universe"),r=$("#stardust"),d=$("#line"),l=anime.timeline({loop:!1,autoplay:!1}).add({targets:a.reverse(),translateX:[-40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:2e3,delay:function(e,t){return 2e3/i/5*t}}).add({targets:o.children().get(),translateX:[-40,0],translateZ:0,opacity:[0,1],easing:"easeOutExpo",duration:800,offset:20,delay:function(e,t){return 500+30*t}}).add({targets:s.blast({delimiter:"character"}).get(),translateY:["100%",0],easing:"easeOutExpo",duration:800,offset:1e3,delay:function(e,t){return 20*t}}).add({targets:r.blast({delimiter:"character"}).get(),translateY:["100%",0],easing:"easeOutExpo",duration:600,offset:"-=1400",delay:function(e,t){return 20*t}}).add({targets:n,translateY:["100%",0],opacity:[0,1],easing:"easeOutExpo",duration:600,offset:"-=600",delay:function(e,t){return 300*t}});return e&&l.add({targets:d.get(),translateX:["100%",0],opacity:[0,1],easing:"easeOutExpo",duration:1200,offset:"-=1600"}).add(globalAnimation()),l}function contactAnimation(e){var t=$(Elements.get("contact").value("imagination"));return anime.timeline({autoplay:!1,complete:function(){e instanceof Function&&e.call()}}).add({targets:t.get(),translateY:0,duration:0}).add({targets:t.blast().get(),translateX:[-40,0],opacity:[0,1],duration:800,easing:"easeOutExpo",delay:function(e,t){return 500+30*t}}).add({targets:$("#contact .section .outer > span").get(),translateY:["100%",0],duration:600,easing:"easeOutExpo",offset:"-=1000",delay:function(e,t){return 50*t}})}function onResizeStart(e){if(!$body.hasClass("resizing")){var t=$body.attr("data-section"),a=_.extendWith({},Elements.get(t).value());anime({targets:_.values(a),translateY:[0,"100%"],opacity:[1,0],duration:1e3,easing:[1,0,0,1],complete:function(){e instanceof Function&&e.call()}})}}function onResizeEnd(){var e=$body.attr("data-section"),t=_.extendWith({},Elements.get(e).value(),Elements.get("global").value(),{line:$("#line").get()});anime({targets:_.values(t),translateY:0,opacity:[1],duration:1e3,easing:[1,0,0,1]})}function resize(){onResizeStart(),$body.addClass("resizing"),$body.removeClass("texture-loaded"),$winW=$(window).width(),$winH=$(window).height(),$renderer&&($renderer.destroy(),$renderer=null,$("#texture canvas").remove(),!$("#sound-btn").hasClass("muted")&&soundPlaying&&stopSound()),clearInterval($visualizer),clearTimeout($resizer),$resizer=setTimeout(resizeEnd,600)}function goHome(){var e=$(Elements.get("contact").value("imagination"));anime.timeline({complete:function(){$(Elements.get("global").value("contactBtn")).find(".outer > span").text("about");var e=landingAnimation();$body.attr("data-section","landing"),anime({targets:_.values(Elements.get("landing").value()),translateY:0,opacity:1,duration:0,easing:"linear"}),e.play()}}).add({targets:$("#contact .section .outer > span").get().reverse(),translateY:[0,"100%"],duration:600,easing:"easeOutExpo",delay:function(e,t){return 50*t}}).add({targets:e.blast().get().reverse(),translateX:[0,-40],opacity:[1,0],duration:800,easing:"easeOutExpo",offset:400,delay:function(e,t){return 500+30*t}}),ga("set",{page:window.location.pathname,title:"Home"}),ga("send","pageview")}function goContact(){onResizeStart(function(){$(Elements.get("global").value("contactBtn")).find(".outer > span").text("back"),$body.attr("data-section","contact");var e=Elements.get("contact").value();anime({targets:_.values(e),translateY:"100%",opacity:1,duration:0,easing:"linear"}),contactAnimation().play()}),ga("set",{page:window.location.pathname,title:"Contact"}),ga("send","pageview")}function resizeEnd(){$renderer&&($displacement1.scale.x=$size,$displacement1.scale.y=$size,$displacement2.scale.x=$size/2,$displacement2.scale.y=$size/2,$displacement3.scale.x=$size,$displacement3.scale.y=$size,$displacement4.scale.x=$size/2,$displacement4.scale.y=$size/2,$texture1.position.x=0,$texture1.position.y=0,$texture2.position.x=0,$texture2.position.y=0,$texture3.position.x=0,$texture3.position.y=0,$texture4.position.x=0,$texture4.position.y=0,$renderer=null),setBackground(function(){$body.addClass("texture-loaded"),onResizeEnd()})}function setBackground(e){function t(){var e=requestAnimationFrame(t);$winW>767&&($texture1.position.y+=.25,$texture2.position.y+=.25,$texture3.position.y+=-.25,$texture4.position.y+=-.25),$renderer?$renderer.render(r):cancelAnimationFrame(e)}$winW=$(window).width(),$winH=$(window).height(),$renderer=PIXI.autoDetectRenderer($winW,$winH,{transparent:!1,autoResize:!0});var a=sxsw.fillscreen(2*$winW,2*$winH,1024,1024),n=a.width,i=a.height,o=-.5*$winW,s=-.5*(i-$winH);PIXI.RESOLUTION=window.devicePixelRatio,$renderer.view.style.position="absolute",$renderer.view.style.left="0px",$renderer.view.style.top="0px",$renderer.view.style.width="100%",$renderer.view.style.height="100%";var r=new PIXI.Container,d=new PIXI.filters.ColorMatrixFilter;$texture1=new PIXI.Sprite(RESOURCES.texture1.texture),$texture2=new PIXI.Sprite(RESOURCES.texture2.texture),$texture3=new PIXI.Sprite(RESOURCES.texture1.texture),$texture4=new PIXI.Sprite(RESOURCES.texture2.texture),$texture1.filters=[d.brightness(1.25)],$texture2.filters=[d.brightness(1.25)],$texture3.filters=[d.brightness(1.25)],$texture4.filters=[d.brightness(1.25)];var l=Math.floor(3*Math.random()),u=new PIXI.Sprite(RESOURCES["background"+l].texture),c=new PIXI.Container;$displacement3=new PIXI.filters.DisplacementFilter($texture3),$displacement4=new PIXI.filters.DisplacementFilter($texture4),$displacement3.scale.x=$size/2,$displacement3.scale.y=$size/2,$displacement4.scale.x=$size/4,$displacement4.scale.y=$size/4,u.filters=[$displacement3,$displacement4],u.position.x=o,u.position.y=s,u.width=n,u.height=i,u.alpha=.5,c.addChild($texture3),c.addChild($texture4),c.addChild(u),c.alpha=0,r.addChild(c),r.filters=[d],$("#texture").append($renderer.view),t(),$body.removeClass("resizing"),$loaded=!0,clearTimeout($backgroundTimeout);var p=function(){e instanceof Function&&e()};$backgroundTimeout=setTimeout(function(){$winW>767?anime({targets:c,duration:5,alpha:[0,.9],easing:[.17,.67,.83,.67],complete:p}):anime({targets:c,duration:5,alpha:[0,1],easing:[.17,.67,.83,0],complete:p}),$audio&&($("#sound-btn").hasClass("muted")||(loadSound("assets/audio/loop.mp3"),$body.addClass("audio")))},600)}function deviceOrientationHandler(e,t,a){$texture3.position.y=t,$texture4.position.y=-t}function loadSound(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){soundPlaying=!0,audioContext.decodeAudioData(t.response,function(e){sampleBuffer=e,playSound(0),$visualizer=setInterval(function(){if($audio&&$playing&&$body.hasClass("texture-loaded")){var e=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(e)}})})},t.send()}function setupSound(){(sound=audioContext.createBufferSource()).buffer=sampleBuffer,sound.loop=loop,sound.loopStart=0,sound.loopEnd=sampleBuffer.duration,sound.connect(audioContext.destination),sound.connect(analyser),analyser.connect(audioContext.destination),sound.connect(gainNode),gainNode.connect(audioContext.destination),sound.playbackRate.value=1}function playSound(e){setupSound(),sound.start(e),$playing=!0}function stopSound(){$playing=!1,soundPlaying=!1,gainNode.gain.exponentialRampToValueAtTime(.001,audioContext.currentTime+2),sound.stop(0),clearInterval($visualizer)}function swipedetect(e,t){var a,n,i,o,s,r,d,l=e[0],u=t||function(e){};l.addEventListener("touchstart",function(e){var t=e.changedTouches[0];a="none",swipeVal=0,n=t.pageX,i=t.pageY,d=(new Date).getTime()},!1),l.addEventListener("touchmove",function(e){var t=e.changedTouches[0];swipeVal=t.pageX,$body.addClass("swiping"),$body.hasClass("contact")?($("#white-fill").css("left",Math.min(0,(n-swipeVal)/10)+"px"),$("#slider").css("width",80- -1*Math.min((n-swipeVal)/75,0)+"px")):($("#white-fill").css("left",Math.max((n-swipeVal)/10,0)+"px"),$("#slider").css("width",80-Math.max((n-swipeVal)/75,0)+"px")),e.preventDefault()},!1),l.addEventListener("touchend",function(e){$body.removeClass("swiping"),clearTimeout($moveTimeout);var t=e.changedTouches[0];o=t.pageX-n,s=t.pageY-i,(r=(new Date).getTime()-d)<=2e3&&(Math.abs(o)>=150&&Math.abs(s)<=100?a=o<0?"left":"right":Math.abs(s)>=150&&Math.abs(o)<=100&&(a=s<0?"up":"down")),$moveTimeout=setTimeout(function(){$("#white-fill").animate({left:0},250),$("#slider").animate({width:"80px"},250)},1e3),u(a)},!1)}var TEXTURES=[{key:"texture1",src:"assets/images/textures/dis1.jpg"},{key:"texture2",src:"assets/images/textures/dis2.jpg"},{key:"background0",src:"assets/images/photo/1-dis.jpg"},{key:"background1",src:"assets/images/photo/2-dis.jpg"},{key:"background2",src:"assets/images/photo/3-dis.jpg"}],RESOURCES=null,$title="FiftySeven® — Design Studio.",$body=$("body"),$winW=$(window).width(),$winH=$(window).height(),$renderer=null,$visualizer,$backgroundTimeout,$size=1024,$texture1,$texture2,$texture3,$texture4,$displacement1,$displacement2,$displacement3,$displacement4,$moveTimeout,swipeVal=0,soundPlaying=!1,$loaded=!1,$playing=!1,a=document.createElement("audio"),$audio=!(!a.canPlayType||!a.canPlayType("audio/mpeg;").replace(/no/,"")),$resizer,$ie=!1,$document=$(document),Elements=function(e,t,a){function n(){var e="",t=[];_.forEach(i,function(n){t=Array.prototype.slice.call(a.querySelectorAll("#"+n+" [id]")),o[n]=_.reduce(t,function(t,a){return e=_.camelCase(a.getAttribute("id")),t[e]=a,t},{})}),this.initialized=!0}var i=["global","landing","contact"],o={},s=null;return{get:function(e){return s=null,n(),void 0!==e?(s=e,this):o},value:function(e){return void 0===e?o[s]:o[s][e]}}}(jQuery,window,document);_.hasIn(jQuery,"fn.blast")&&_.extendWith(jQuery.fn.blast.defaults,{delimiter:"character",customClass:"letter"}),isMobile.phone&&($body.addClass("mobile"),$audio=!1),(document.documentMode||/Edge/.test(navigator.userAgent))&&($ie=!0);var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;if("CSS"in window&&"supports"in window.CSS){var support=window.CSS.supports("mix-blend-mode","difference");support=support?"mix-blend-mode":"no-mix-blend-mode",isAndroid?$("html").addClass("no-mix-blend-mode"):$("html").addClass(support)}if($audio){var audioContext=new(window.AudioContext||window.webkitAudioContext),sampleBuffer,sound,loop=!0,frequencyData,analyser,gainNode;$ie||(analyser=audioContext.createAnalyser(),(gainNode=audioContext.createGain()).gain.value=1,analyser.fftSize=32,frequencyData=new Uint8Array(analyser.frequencyBinCount),analyser.getByteFrequencyData(frequencyData))}History.Adapter.bind(window,"statechange",function(){switch(History.getState().data.state){case 1:goHome();break;case 2:goContact()}});var tlReaveal;$(document).ready(function(){swipedetect($document,function(e){"left"!==e||$body.hasClass("contact")?"right"===e&&$body.hasClass("contact")&&History.pushState({state:1},$title,"/"):History.pushState({state:2},"About. "+$title,"/contact")}),$winW=$(window).width(),$winH=$(window).height(),$("#sound-btn").on("click",function(){$(this).hasClass("muted")?(loadSound("assets/audio/loop.mp3"),$(this).removeClass("muted")):(stopSound(),$(this).addClass("muted"))}),$("#contact-btn").on("click",function(e){"contact"===$body.attr("data-section")?History.pushState({state:1},$title,"/"):History.pushState({state:2},"Contact. "+$title,"/contact")}),$("#swipe").on("touchend",function(){$body.hasClass("contact")?History.pushState({state:1},$title,"/"):History.pushState({state:2},"Contact. "+$title,"/contact")})}).mousemove(function(e){}).mouseup(function(){}),$(window).on("load",function(){$winW=$(window).width(),$winH=$(window).height(),$body.addClass("loaded"),"contact"===$(location).attr("href").split("/").splice(0,5).join("/").split("/")[3]?$(document).prop("title","Contact. "+$title):$(document).prop("title",$title);var e=PIXI.loader;TEXTURES.forEach(function(t){e.add(t.key,t.src)}),e.load(function(e,t){setBackground(function(){$body.addClass("texture-loaded");var e=landingAnimation(!0).play;(tlReaveal=revealAnimation(e)).add({duration:0,complete:function(){$(window).on("resize",resize)}}),tlReaveal.play()},RESOURCES=t)})}),window.DeviceOrientationEvent&&$winW<=767&&window.addEventListener("deviceorientation",function(e){var t=e.gamma,a=e.beta,n=e.alpha;$loaded&&deviceOrientationHandler(t,a,n)},!1);var sxsw={fillscreen:function(e,t,a,n){var i=n/a;return a=e,(n=e*i)<t&&(a=(n=t)/i),{width:a,height:n}}};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhc2UuanMiXSwibmFtZXMiOlsiZ2xvYmFsQW5pbWF0aW9uIiwicmV2ZXJzZSIsInVuZGVmaW5lZCIsIiRnbG9iYWxFbHMiLCIkIiwiY2hpbGRyZW4iLCJnZXQiLCJ0YXJnZXRzIiwidHJhbnNsYXRlWSIsIm9wYWNpdHkiLCJlYXNpbmciLCJkdXJhdGlvbiIsIm9mZnNldCIsImRlbGF5IiwiZWwiLCJpIiwicmV2ZWFsQW5pbWF0aW9uIiwiY2FsbGJhY2siLCIkZnNNb25vZ3JhbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCIkZnNNb25vZ3JhbUVscyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwicXVlcnlTZWxlY3RvckFsbCIsIiRsb2FkZXIiLCIkbG9hZGVySW5uZXIiLCJxdWVyeVNlbGVjdG9yIiwiYW5pbWUiLCJ0aW1lbGluZSIsImxvb3AiLCJhdXRvcGxheSIsImFkZCIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVaIiwiYmVnaW4iLCIkYm9keSIsImF0dHIiLCJ3aWR0aCIsImNvbXBsZXRlIiwiRnVuY3Rpb24iLCJsYW5kaW5nQW5pbWF0aW9uIiwiaW5pdGlhbCIsIiRmc0xvZ28iLCIkZnNMb2dvRWxzIiwiJHByb2plY3RzIiwibGVuIiwibGVuZ3RoIiwiJCRmc0xvZ29TdWIiLCJFbGVtZW50cyIsInZhbHVlIiwiYmxhc3QiLCJkZWxpbWl0ZXIiLCIkJGNydWlzZVVuaXZlcnNlIiwiJCRzdGFyZHVzdCIsIiQkbGluZSIsImNvbnRhY3RBbmltYXRpb24iLCIkJGltYWdpbmF0aW9uIiwib25SZXNpemVTdGFydCIsImhhc0NsYXNzIiwiY3VycmVudFNlY3Rpb24iLCIkc2VjdGlvbkVscyIsIl8iLCJleHRlbmRXaXRoIiwidmFsdWVzIiwib25SZXNpemVFbmQiLCJsaW5lIiwicmVzaXplIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIiR3aW5XIiwid2luZG93IiwiJHdpbkgiLCJoZWlnaHQiLCIkcmVuZGVyZXIiLCJkZXN0cm95IiwicmVtb3ZlIiwic291bmRQbGF5aW5nIiwic3RvcFNvdW5kIiwiY2xlYXJJbnRlcnZhbCIsIiR2aXN1YWxpemVyIiwiY2xlYXJUaW1lb3V0IiwiJHJlc2l6ZXIiLCJzZXRUaW1lb3V0IiwicmVzaXplRW5kIiwiZ29Ib21lIiwiZmluZCIsInRleHQiLCJ0bCIsInBsYXkiLCJnYSIsInBhZ2UiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwidGl0bGUiLCJnb0NvbnRhY3QiLCIkZWxlbWVudHMiLCIkZGlzcGxhY2VtZW50MSIsInNjYWxlIiwieCIsIiRzaXplIiwieSIsIiRkaXNwbGFjZW1lbnQyIiwiJGRpc3BsYWNlbWVudDMiLCIkZGlzcGxhY2VtZW50NCIsIiR0ZXh0dXJlMSIsInBvc2l0aW9uIiwiJHRleHR1cmUyIiwiJHRleHR1cmUzIiwiJHRleHR1cmU0Iiwic2V0QmFja2dyb3VuZCIsIiRhbmltYXRlIiwiJHJlbmRlckNhbnZhcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInJlbmRlciIsIiRzdGFnZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiUElYSSIsImF1dG9EZXRlY3RSZW5kZXJlciIsInRyYW5zcGFyZW50IiwiYXV0b1Jlc2l6ZSIsIiRmaWxsIiwic3hzdyIsImZpbGxzY3JlZW4iLCIkZmlsbFciLCIkZmlsbEgiLCIkZmlsbFgiLCIkZmlsbFkiLCJSRVNPTFVUSU9OIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInZpZXciLCJzdHlsZSIsImxlZnQiLCJ0b3AiLCJDb250YWluZXIiLCJmaWx0ZXIiLCJmaWx0ZXJzIiwiQ29sb3JNYXRyaXhGaWx0ZXIiLCJTcHJpdGUiLCJSRVNPVVJDRVMiLCJ0ZXh0dXJlIiwiYnJpZ2h0bmVzcyIsImlkeCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIiRpbWFnZSIsIiRjb250YWluZXIyIiwiRGlzcGxhY2VtZW50RmlsdGVyIiwiYWxwaGEiLCJhZGRDaGlsZCIsImFwcGVuZCIsIiRsb2FkZWQiLCIkYmFja2dyb3VuZFRpbWVvdXQiLCJvbkNvbXBsZXRlIiwiJGF1ZGlvIiwibG9hZFNvdW5kIiwiZGV2aWNlT3JpZW50YXRpb25IYW5kbGVyIiwidGlsdExSIiwidGlsdEZCIiwiZGlyIiwidXJsIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ubG9hZCIsImF1ZGlvQ29udGV4dCIsImRlY29kZUF1ZGlvRGF0YSIsInJlc3BvbnNlIiwiYnVmZmVyIiwic2FtcGxlQnVmZmVyIiwicGxheVNvdW5kIiwic2V0SW50ZXJ2YWwiLCIkcGxheWluZyIsImFycmF5IiwiVWludDhBcnJheSIsImFuYWx5c2VyIiwiZnJlcXVlbmN5QmluQ291bnQiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsInNlbmQiLCJzZXR1cFNvdW5kIiwic291bmQiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJsb29wU3RhcnQiLCJsb29wRW5kIiwiY29ubmVjdCIsImRlc3RpbmF0aW9uIiwiZ2Fpbk5vZGUiLCJwbGF5YmFja1JhdGUiLCJ0aW1lIiwic3RhcnQiLCJnYWluIiwiZXhwb25lbnRpYWxSYW1wVG9WYWx1ZUF0VGltZSIsImN1cnJlbnRUaW1lIiwic3RvcCIsInN3aXBlZGV0ZWN0Iiwic3dpcGVkaXIiLCJzdGFydFgiLCJzdGFydFkiLCJkaXN0WCIsImRpc3RZIiwiZWxhcHNlZFRpbWUiLCJzdGFydFRpbWUiLCJ0b3VjaHN1cmZhY2UiLCJoYW5kbGVzd2lwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwidG91Y2hvYmoiLCJjaGFuZ2VkVG91Y2hlcyIsInN3aXBlVmFsIiwicGFnZVgiLCJwYWdlWSIsIkRhdGUiLCJnZXRUaW1lIiwiY3NzIiwibWluIiwibWF4IiwicHJldmVudERlZmF1bHQiLCIkbW92ZVRpbWVvdXQiLCJhYnMiLCJhbmltYXRlIiwiVEVYVFVSRVMiLCJrZXkiLCJzcmMiLCIkdGl0bGUiLCJhIiwiY3JlYXRlRWxlbWVudCIsImNhblBsYXlUeXBlIiwicmVwbGFjZSIsIiRpZSIsIiRkb2N1bWVudCIsImluaXRpYWxpemUiLCJpZCIsImVscyIsImZvckVhY2giLCJzZWN0aW9ucyIsIm1hcCIsInJlZHVjZSIsInByZXYiLCJjdXJyIiwiY2FtZWxDYXNlIiwiZ2V0QXR0cmlidXRlIiwidGhpcyIsImluaXRpYWxpemVkIiwiY3VycmVudEtleSIsImpRdWVyeSIsImhhc0luIiwiZm4iLCJkZWZhdWx0cyIsImN1c3RvbUNsYXNzIiwiaXNNb2JpbGUiLCJwaG9uZSIsImRvY3VtZW50TW9kZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJ1YSIsInRvTG93ZXJDYXNlIiwiaXNBbmRyb2lkIiwiaW5kZXhPZiIsIkNTUyIsInN1cHBvcnQiLCJzdXBwb3J0cyIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImZyZXF1ZW5jeURhdGEiLCJjcmVhdGVBbmFseXNlciIsImNyZWF0ZUdhaW4iLCJmZnRTaXplIiwiSGlzdG9yeSIsIkFkYXB0ZXIiLCJiaW5kIiwiZ2V0U3RhdGUiLCJkYXRhIiwic3RhdGUiLCJ0bFJlYXZlYWwiLCJyZWFkeSIsInB1c2hTdGF0ZSIsIm9uIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsInNwbGl0Iiwic3BsaWNlIiwiam9pbiIsInByb3AiLCJsb2FkZXIiLCJsb2FkIiwicmVzb3VyY2VzIiwibEFuaW0iLCJEZXZpY2VPcmllbnRhdGlvbkV2ZW50IiwiZXZlbnREYXRhIiwiZ2FtbWEiLCJiZXRhIiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsInJhdGlvIl0sIm1hcHBpbmdzIjoiQUFvS0EsU0FBU0EsZ0JBQWdCQyxHQUN4QkEsT0FBc0JDLElBQVpELEdBQWdDQSxFQUMxQyxJQUFJRSxFQUFhQyxFQUFFLFdBQVdDLFdBQVdDLE1BRXpDLE9BQ0NDLFFBQVNOLEVBQVVFLEVBQWFBLEVBQVdGLFVBQzNDTyxZQUFhLE9BQVEsR0FDckJDLFNBQVUsRUFBRyxHQUNiQyxPQUFRLGNBQ1JDLFNBQVUsS0FDVkMsT0FBUSxTQUNSQyxNQUFPLFNBQVVDLEVBQUlDLEdBQ3BC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QVUsV0FDVHJDLEVBQUVxRSxRQUFRZ04sR0FBRyxTQUFVcE4sV0FHekJpTixVQUFVM0wsUUFoQlhrRCxVQUFZcUosT0FzUlh6TixPQUFPMk4sd0JBQTBCNU4sT0FBUyxLQUM3Q0MsT0FBT3VJLGlCQUNOLG9CQUNBLFNBQVVxRixHQUNULElBQUlySSxFQUFTcUksRUFBVUMsTUFDbkJySSxFQUFTb0ksRUFBVUUsS0FDbkJySSxFQUFNbUksRUFBVTlJLE1BQ2hCRyxTQUNISyx5QkFBeUJDLEVBQVFDLEVBQVFDLEtBRzNDLEdBZ0VGLElBQUl0QyxNQUNIQyxXQUFZLFNBQVUySyxFQUFVQyxFQUFXQyxFQUFVQyxHQUNwRCxJQUVJQyxFQURRRCxFQURBRCxFQVNaLE9BTkFBLEVBQVdGLEdBQ1hHLEVBQVlILEVBQVdJLEdBQ1BILElBRWZDLEdBREFDLEVBQVlGLEdBQ1dHLElBR3ZCcFEsTUFBT2tRLEVBQ1AvTixPQUFRZ08iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGdsb2JhbCB3aW5kb3csIGRvY3VtZW50LCBsb2NhdGlvbiwgSGlzdG9yeSwgWE1MSHR0cFJlcXVlc3QsXG5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsIGNhbmNlbEFuaW1hdGlvbkZyYW1lLCBqUXVlcnksICQsIF8sIGFuaW1lLCBQSVhJLCBnYSAqL1xuXG52YXIgVEVYVFVSRVMgPSBbXG5cdHsga2V5OiAndGV4dHVyZTEnLCBzcmM6ICdhc3NldHMvaW1hZ2VzL3RleHR1cmVzL2RpczEuanBnJyB9LFxuXHR7IGtleTogJ3RleHR1cmUyJywgc3JjOiAnYXNzZXRzL2ltYWdlcy90ZXh0dXJlcy9kaXMyLmpwZycgfSxcblx0eyBrZXk6ICdiYWNrZ3JvdW5kMCcsIHNyYzogJ2Fzc2V0cy9pbWFnZXMvcGhvdG8vMS1kaXMuanBnJyB9LFxuXHR7IGtleTogJ2JhY2tncm91bmQxJywgc3JjOiAnYXNzZXRzL2ltYWdlcy9waG90by8yLWRpcy5qcGcnIH0sXG5cdHsga2V5OiAnYmFja2dyb3VuZDInLCBzcmM6ICdhc3NldHMvaW1hZ2VzL3Bob3RvLzMtZGlzLmpwZycgfVxuXTtcblxudmFyIFJFU09VUkNFUyA9IG51bGw7XG5cbnZhciAkdGl0bGUgPSAnRmlmdHlTZXZlbsKuIOKAlCBEZXNpZ24gU3R1ZGlvLic7XG52YXIgJGJvZHkgPSAkKCdib2R5Jyk7XG52YXIgJHdpblcgPSAkKHdpbmRvdykud2lkdGgoKTtcbnZhciAkd2luSCA9ICQod2luZG93KS5oZWlnaHQoKTtcbnZhciAkcmVuZGVyZXIgPSBudWxsO1xudmFyICR2aXN1YWxpemVyO1xuLy8gdmFyICRzaG93SG9tZTtcbnZhciAkYmFja2dyb3VuZFRpbWVvdXQ7XG52YXIgJHNpemUgPSAxMDI0O1xudmFyICR0ZXh0dXJlMTtcbnZhciAkdGV4dHVyZTI7XG52YXIgJHRleHR1cmUzO1xudmFyICR0ZXh0dXJlNDtcbi8vIHZhciAkdGV4dHVyZTU7XG52YXIgJGRpc3BsYWNlbWVudDE7XG52YXIgJGRpc3BsYWNlbWVudDI7XG52YXIgJGRpc3BsYWNlbWVudDM7XG52YXIgJGRpc3BsYWNlbWVudDQ7XG4vLyB2YXIgJGhpZGVMb2dvO1xudmFyICRtb3ZlVGltZW91dDtcbi8vIHZhciAkY29udGFjdExvYWRlZDtcbnZhciBzd2lwZVZhbCA9IDA7XG52YXIgc291bmRQbGF5aW5nID0gZmFsc2U7XG4vLyB2YXIgJGdvQ29udGFjdCA9IGZhbHNlO1xuLy8gdmFyICRnb0hvbWUgPSBmYWxzZTtcbnZhciAkbG9hZGVkID0gZmFsc2U7XG52YXIgJHBsYXlpbmcgPSBmYWxzZTtcbnZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcbnZhciAkYXVkaW8gPSAhIShcblx0YS5jYW5QbGF5VHlwZSAmJiBhLmNhblBsYXlUeXBlKCdhdWRpby9tcGVnOycpLnJlcGxhY2UoL25vLywgJycpXG4pO1xudmFyICRyZXNpemVyO1xudmFyICRpZSA9IGZhbHNlO1xudmFyICRkb2N1bWVudCA9ICQoZG9jdW1lbnQpO1xuXG52YXIgRWxlbWVudHMgPSAoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcblx0dmFyIGluaXRpYWxpemVkID0gZmFsc2U7XG5cdHZhciBzZWN0aW9ucyA9IFsnZ2xvYmFsJywgJ2xhbmRpbmcnLCAnY29udGFjdCddO1xuXHR2YXIgbWFwID0ge307XG5cdHZhciBjdXJyZW50S2V5ID0gbnVsbDtcblxuXHRmdW5jdGlvbiBpbml0aWFsaXplKCkge1xuXHRcdHZhciBpZCA9ICcnO1xuXHRcdHZhciBlbHMgPSBbXTtcblxuXHRcdF8uZm9yRWFjaChzZWN0aW9ucywgZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0ZWxzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyMnICsga2V5ICsgJyBbaWRdJylcblx0XHRcdCk7XG5cblx0XHRcdG1hcFtrZXldID0gXy5yZWR1Y2UoXG5cdFx0XHRcdGVscyxcblx0XHRcdFx0ZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcblx0XHRcdFx0XHRpZCA9IF8uY2FtZWxDYXNlKGN1cnIuZ2V0QXR0cmlidXRlKCdpZCcpKTtcblx0XHRcdFx0XHRwcmV2W2lkXSA9IGN1cnI7XG5cdFx0XHRcdFx0cmV0dXJuIHByZXY7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHt9XG5cdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0dGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0Y3VycmVudEtleSA9IG51bGw7XG5cblx0XHRcdGlmICghaW5pdGlhbGl6ZWQpIHtcblx0XHRcdFx0aW5pdGlhbGl6ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0Y3VycmVudEtleSA9IGtleTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXA7XG5cdFx0fSxcblx0XHR2YWx1ZTogZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0aWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybiBtYXBbY3VycmVudEtleV07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBtYXBbY3VycmVudEtleV1ba2V5XTtcblx0XHR9XG5cdH07XG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuXG4vLyBvdmVycmlkZSBibGFzdC5qcyBkZWZhdWx0c1xuaWYgKF8uaGFzSW4oalF1ZXJ5LCAnZm4uYmxhc3QnKSkge1xuXHRfLmV4dGVuZFdpdGgoalF1ZXJ5LmZuLmJsYXN0LmRlZmF1bHRzLCB7XG5cdFx0ZGVsaW1pdGVyOiAnY2hhcmFjdGVyJyxcblx0XHRjdXN0b21DbGFzczogJ2xldHRlcidcblx0fSk7XG59XG5cbmlmIChpc01vYmlsZS5waG9uZSkge1xuXHQkYm9keS5hZGRDbGFzcygnbW9iaWxlJyk7XG5cdCRhdWRpbyA9IGZhbHNlO1xufVxuaWYgKGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCAvRWRnZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHQkaWUgPSB0cnVlO1xufVxudmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xudmFyIGlzQW5kcm9pZCA9IHVhLmluZGV4T2YoJ2FuZHJvaWQnKSA+IC0xOyAvLyAmJiB1YS5pbmRleE9mKFwibW9iaWxlXCIpO1xuXG5pZiAoJ0NTUycgaW4gd2luZG93ICYmICdzdXBwb3J0cycgaW4gd2luZG93LkNTUykge1xuXHR2YXIgc3VwcG9ydCA9IHdpbmRvdy5DU1Muc3VwcG9ydHMoJ21peC1ibGVuZC1tb2RlJywgJ2RpZmZlcmVuY2UnKTtcblx0c3VwcG9ydCA9IHN1cHBvcnQgPyAnbWl4LWJsZW5kLW1vZGUnIDogJ25vLW1peC1ibGVuZC1tb2RlJztcblx0aWYgKGlzQW5kcm9pZCkge1xuXHRcdCQoJ2h0bWwnKS5hZGRDbGFzcygnbm8tbWl4LWJsZW5kLW1vZGUnKTtcblx0fVxuXHRlbHNlIHtcblx0XHQkKCdodG1sJykuYWRkQ2xhc3Moc3VwcG9ydCk7XG5cdH1cbn1cblxuaWYgKCRhdWRpbykge1xuXHR2YXIgYXVkaW9Db250ZXh0ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQpKCksXG5cdFx0c2FtcGxlQnVmZmVyLFxuXHRcdHNvdW5kLFxuXHRcdGxvb3AgPSB0cnVlO1xuXHR2YXIgZnJlcXVlbmN5RGF0YTtcblx0dmFyIGFuYWx5c2VyO1xuXHR2YXIgZ2Fpbk5vZGU7XG5cblx0aWYgKCEkaWUpIHtcblx0XHRhbmFseXNlciA9IGF1ZGlvQ29udGV4dC5jcmVhdGVBbmFseXNlcigpO1xuXHRcdGdhaW5Ob2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcblx0XHRnYWluTm9kZS5nYWluLnZhbHVlID0gMTtcblx0XHRhbmFseXNlci5mZnRTaXplID0gMzI7XG5cdFx0ZnJlcXVlbmN5RGF0YSA9IG5ldyBVaW50OEFycmF5KGFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KTtcblx0XHRhbmFseXNlci5nZXRCeXRlRnJlcXVlbmN5RGF0YShmcmVxdWVuY3lEYXRhKTtcblx0fVxufVxuXG5IaXN0b3J5LkFkYXB0ZXIuYmluZCh3aW5kb3csICdzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcblx0dmFyIFN0YXRlID0gSGlzdG9yeS5nZXRTdGF0ZSgpO1xuXHR2YXIgJGNvZGUgPSBTdGF0ZS5kYXRhLnN0YXRlO1xuXG5cdHN3aXRjaCAoJGNvZGUpIHtcblx0XHRjYXNlIDE6XG5cdFx0XHRnb0hvbWUoKTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgMjpcblx0XHRcdGdvQ29udGFjdCgpO1xuXHRcdFx0YnJlYWs7XG5cdH1cbn0pO1xuXG5mdW5jdGlvbiBnbG9iYWxBbmltYXRpb24ocmV2ZXJzZSkge1xuXHRyZXZlcnNlID0gcmV2ZXJzZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiByZXZlcnNlO1xuXHR2YXIgJGdsb2JhbEVscyA9ICQoJyNnbG9iYWwnKS5jaGlsZHJlbigpLmdldCgpO1xuXG5cdHJldHVybiB7XG5cdFx0dGFyZ2V0czogcmV2ZXJzZSA/ICRnbG9iYWxFbHMgOiAkZ2xvYmFsRWxzLnJldmVyc2UoKSxcblx0XHR0cmFuc2xhdGVZOiBbJzEwMCUnLCAwXSxcblx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdGR1cmF0aW9uOiAxMjAwLFxuXHRcdG9mZnNldDogJy09MTYwMCcsXG5cdFx0ZGVsYXk6IGZ1bmN0aW9uIChlbCwgaSkge1xuXHRcdFx0cmV0dXJuIGkgKiAyMDA7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgdGxSZWF2ZWFsO1xuZnVuY3Rpb24gcmV2ZWFsQW5pbWF0aW9uKGNhbGxiYWNrKSB7XG5cdHZhciAkZnNNb25vZ3JhbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcy1tb25vZ3JhbScpO1xuXHR2YXIgJGZzTW9ub2dyYW1FbHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcblx0XHQkZnNNb25vZ3JhbS5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJylcblx0KTtcblx0dmFyICRsb2FkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGVyJyk7XG5cdHZhciAkbG9hZGVySW5uZXIgPSAkbG9hZGVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXItaW5uZXInKTtcblxuXHR2YXIgdGltZWxpbmUgPSBhbmltZVxuXHRcdC50aW1lbGluZSh7XG5cdFx0XHRsb29wOiBmYWxzZSxcblx0XHRcdGF1dG9wbGF5OiBmYWxzZVxuXHRcdFx0Ly8gY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIFx0aWYgKGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHRcdC8vIFx0XHRjYWxsYmFjay5jYWxsKCk7XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIH1cblx0XHR9KVxuXHRcdC5hZGQoe1xuXHRcdFx0dGFyZ2V0czogJGZzTW9ub2dyYW1FbHMsXG5cdFx0XHR0cmFuc2xhdGVYOiBbLTEwLCAwXSxcblx0XHRcdHRyYW5zbGF0ZVo6IDAsXG5cdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogMTIwMCxcblx0XHRcdG9mZnNldDogMTUwMCxcblx0XHRcdGJlZ2luOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRib2R5LmF0dHIoJ2RhdGEtc2VjdGlvbicsICdpbnRybycpO1xuXHRcdFx0fSxcblx0XHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIDEwMCAqIGk7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQuYWRkKHtcblx0XHRcdHRhcmdldHM6ICRsb2FkZXIsXG5cdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogMTIwMCxcblx0XHRcdG9mZnNldDogMFxuXHRcdH0pXG5cdFx0LmFkZCh7XG5cdFx0XHR0YXJnZXRzOiAkbG9hZGVySW5uZXIsXG5cdFx0XHR3aWR0aDogJzEwMCUnLFxuXHRcdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRvZmZzZXQ6ICctPTEyMDAnXG5cdFx0fSlcblx0XHQuYWRkKHsgZHVyYXRpb246IDAsIGRlbGF5OiAxMDAgfSlcblx0XHQuYWRkKHtcblx0XHRcdHRhcmdldHM6ICRsb2FkZXIsXG5cdFx0XHRvcGFjaXR5OiAwLFxuXHRcdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdFx0ZHVyYXRpb246IDEyMDAsXG5cdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQkYm9keS5hdHRyKCdkYXRhLXNlY3Rpb24nLCAnbGFuZGluZycpO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXG5cdFx0LmFkZCh7XG5cdFx0XHR0YXJnZXRzOiAkZnNNb25vZ3JhbUVscyxcblx0XHRcdHRyYW5zbGF0ZVg6IFswLCAxMF0sXG5cdFx0XHR0cmFuc2xhdGVaOiAwLFxuXHRcdFx0b3BhY2l0eTogMCxcblx0XHRcdGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcblx0XHRcdGR1cmF0aW9uOiAxMjAwLFxuXHRcdFx0b2Zmc2V0OiAnLT0xMjAwJyxcblx0XHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIDEwMCAqIGk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0cmV0dXJuIHRpbWVsaW5lO1xufVxuXG5mdW5jdGlvbiBsYW5kaW5nQW5pbWF0aW9uKGluaXRpYWwpIHtcblx0aW5pdGlhbCA9IGluaXRpYWwgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogaW5pdGlhbDtcblxuXHR2YXIgJGZzTG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcy1sb2dvJyk7XG5cdHZhciAkZnNMb2dvRWxzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG5cdFx0JGZzTG9nby5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJylcblx0KTtcblxuXHR2YXIgJHByb2plY3RzID0gJCgnI3Byb2plY3RzIGEnKS5nZXQoKTtcblx0dmFyIGxlbiA9ICRmc0xvZ29FbHMubGVuZ3RoO1xuXHR2YXIgZHVyID0gMjAwMDtcblx0dmFyIG9mZiA9IDU7XG5cblx0dmFyICQkZnNMb2dvU3ViID0gJChFbGVtZW50cy5nZXQoJ2xhbmRpbmcnKS52YWx1ZSgnZnNMb2dvU3ViJykpO1xuXHQkJGZzTG9nb1N1YlxuXHRcdC5ibGFzdChmYWxzZSlcblx0XHQuYmxhc3QoeyBkZWxpbWl0ZXI6ICdjaGFyYWN0ZXInIH0pO1xuXG5cdHZhciAkJGNydWlzZVVuaXZlcnNlID0gJCgnI2NydWlzZS11bml2ZXJzZScpO1xuXHR2YXIgJCRzdGFyZHVzdCA9ICQoJyNzdGFyZHVzdCcpO1xuXHR2YXIgJCRsaW5lID0gJCgnI2xpbmUnKTtcblxuXHR2YXIgbGFuZGluZ0FuaW1hdGlvbiA9IGFuaW1lXG5cdFx0LnRpbWVsaW5lKHtcblx0XHRcdGxvb3A6IGZhbHNlLFxuXHRcdFx0YXV0b3BsYXk6IGZhbHNlXG5cdFx0fSlcblx0XHQuYWRkKHtcblx0XHRcdHRhcmdldHM6ICRmc0xvZ29FbHMucmV2ZXJzZSgpLFxuXHRcdFx0dHJhbnNsYXRlWDogWy00MCwgMF0sXG5cdFx0XHR0cmFuc2xhdGVaOiAwLFxuXHRcdFx0b3BhY2l0eTogWzAsIDFdLFxuXHRcdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdFx0ZHVyYXRpb246IGR1cixcblx0XHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIGR1ciAvIGxlbiAvIG9mZiAqIGk7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQuYWRkKHtcblx0XHRcdHRhcmdldHM6ICQkZnNMb2dvU3ViLmNoaWxkcmVuKCkuZ2V0KCksXG5cdFx0XHR0cmFuc2xhdGVYOiBbLTQwLCAwXSxcblx0XHRcdHRyYW5zbGF0ZVo6IDAsXG5cdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogODAwLFxuXHRcdFx0b2Zmc2V0OiAyMCxcblx0XHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIDUwMCArIDMwICogaTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5hZGQoe1xuXHRcdFx0dGFyZ2V0czogJCRjcnVpc2VVbml2ZXJzZS5ibGFzdCh7IGRlbGltaXRlcjogJ2NoYXJhY3RlcicgfSkuZ2V0KCksXG5cdFx0XHR0cmFuc2xhdGVZOiBbJzEwMCUnLCAwXSxcblx0XHRcdGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcblx0XHRcdGR1cmF0aW9uOiA4MDAsXG5cdFx0XHRvZmZzZXQ6IDEwMDAsXG5cdFx0XHRkZWxheTogZnVuY3Rpb24gKGVsLCBpKSB7XG5cdFx0XHRcdHJldHVybiAyMCAqIGk7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHQuYWRkKHtcblx0XHRcdHRhcmdldHM6ICQkc3RhcmR1c3QuYmxhc3QoeyBkZWxpbWl0ZXI6ICdjaGFyYWN0ZXInIH0pLmdldCgpLFxuXHRcdFx0dHJhbnNsYXRlWTogWycxMDAlJywgMF0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogNjAwLFxuXHRcdFx0b2Zmc2V0OiAnLT0xNDAwJyxcblx0XHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdFx0cmV0dXJuIDIwICogaTtcblx0XHRcdH1cblx0XHR9KVxuXHRcdC5hZGQoe1xuXHRcdFx0dGFyZ2V0czogJHByb2plY3RzLFxuXHRcdFx0dHJhbnNsYXRlWTogWycxMDAlJywgMF0sXG5cdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogNjAwLFxuXHRcdFx0b2Zmc2V0OiAnLT02MDAnLFxuXHRcdFx0ZGVsYXk6IGZ1bmN0aW9uIChlbCwgaSkge1xuXHRcdFx0XHRyZXR1cm4gaSAqIDMwMDtcblx0XHRcdH1cblx0XHR9KVxuXG5cdGlmIChpbml0aWFsKSB7XG5cdFx0bGFuZGluZ0FuaW1hdGlvblxuXHRcdC5hZGQoe1xuXHRcdFx0dGFyZ2V0czogJCRsaW5lLmdldCgpLFxuXHRcdFx0dHJhbnNsYXRlWDogWycxMDAlJywgMF0sXG5cdFx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0XHRkdXJhdGlvbjogMTIwMCxcblx0XHRcdG9mZnNldDogJy09MTYwMCdcblx0XHR9KVxuXHRcdC5hZGQoZ2xvYmFsQW5pbWF0aW9uKCkpO1xuXHR9XG5cblx0cmV0dXJuIGxhbmRpbmdBbmltYXRpb247XG59XG5cbmZ1bmN0aW9uIGNvbnRhY3RBbmltYXRpb24oY2FsbGJhY2spIHtcblx0dmFyICQkaW1hZ2luYXRpb24gPSAkKEVsZW1lbnRzLmdldCgnY29udGFjdCcpLnZhbHVlKCdpbWFnaW5hdGlvbicpKTtcblxuXHRyZXR1cm4gYW5pbWUudGltZWxpbmUoe1xuXHRcdGF1dG9wbGF5OiBmYWxzZSxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHRcdFx0Y2FsbGJhY2suY2FsbCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSlcblx0LmFkZCh7XG5cdFx0dGFyZ2V0czogJCRpbWFnaW5hdGlvbi5nZXQoKSxcblx0XHR0cmFuc2xhdGVZOiAwLFxuXHRcdGR1cmF0aW9uOiAwXG5cdH0pXG5cdC5hZGQoe1xuXHRcdHRhcmdldHM6ICQkaW1hZ2luYXRpb24uYmxhc3QoKS5nZXQoKSxcblx0XHR0cmFuc2xhdGVYOiBbLTQwLCAwXSxcblx0XHRvcGFjaXR5OiBbMCwgMV0sXG5cdFx0ZHVyYXRpb246IDgwMCxcblx0XHRlYXNpbmc6ICdlYXNlT3V0RXhwbycsXG5cdFx0ZGVsYXk6IGZ1bmN0aW9uIChlbCwgaSkge1xuXHRcdFx0cmV0dXJuIDUwMCArIDMwICogaTtcblx0XHR9XG5cdH0pXG5cdC5hZGQoe1xuXHRcdHRhcmdldHM6ICQoJyNjb250YWN0IC5zZWN0aW9uIC5vdXRlciA+IHNwYW4nKS5nZXQoKSxcblx0XHR0cmFuc2xhdGVZOiBbJzEwMCUnLCAwXSxcblx0XHRkdXJhdGlvbjogNjAwLFxuXHRcdGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcblx0XHRvZmZzZXQ6ICctPTEwMDAnLFxuXHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdHJldHVybiA1MCAqIGk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gb25SZXNpemVTdGFydChjYWxsYmFjaykge1xuXHRpZiAoJGJvZHkuaGFzQ2xhc3MoJ3Jlc2l6aW5nJykpIHtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIGN1cnJlbnRTZWN0aW9uID0gJGJvZHkuYXR0cignZGF0YS1zZWN0aW9uJyk7XG5cdHZhciAkc2VjdGlvbkVscyA9IF8uZXh0ZW5kV2l0aChcblx0XHR7fSxcblx0XHRFbGVtZW50cy5nZXQoY3VycmVudFNlY3Rpb24pLnZhbHVlKClcblx0XHQvLyBFbGVtZW50cy5nZXQoJ2dsb2JhbCcpLnZhbHVlKCksXG5cdFx0Ly8geyBsaW5lOiAkKCcjbGluZScpLmdldCgpIH1cblx0KTtcblxuXHRhbmltZSh7XG5cdFx0dGFyZ2V0czogXy52YWx1ZXMoJHNlY3Rpb25FbHMpLFxuXHRcdHRyYW5zbGF0ZVk6IFswLCAnMTAwJSddLFxuXHRcdG9wYWNpdHk6IFsxLCAwXSxcblx0XHRkdXJhdGlvbjogMTAwMCxcblx0XHRlYXNpbmc6IFsxLCAwLCAwLCAxXSxcblx0XHRjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcblx0XHRcdFx0Y2FsbGJhY2suY2FsbCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG59XG5cbmZ1bmN0aW9uIG9uUmVzaXplRW5kKCkge1xuXHR2YXIgY3VycmVudFNlY3Rpb24gPSAkYm9keS5hdHRyKCdkYXRhLXNlY3Rpb24nKTtcblx0dmFyICRzZWN0aW9uRWxzID0gXy5leHRlbmRXaXRoKFxuXHRcdHt9LFxuXHRcdEVsZW1lbnRzLmdldChjdXJyZW50U2VjdGlvbikudmFsdWUoKSxcblx0XHRFbGVtZW50cy5nZXQoJ2dsb2JhbCcpLnZhbHVlKCksXG5cdFx0eyBsaW5lOiAkKCcjbGluZScpLmdldCgpIH1cblx0KTtcblxuXHRhbmltZSh7XG5cdFx0dGFyZ2V0czogXy52YWx1ZXMoJHNlY3Rpb25FbHMpLFxuXHRcdHRyYW5zbGF0ZVk6IDAsXG5cdFx0b3BhY2l0eTogWzFdLFxuXHRcdGR1cmF0aW9uOiAxMDAwLFxuXHRcdGVhc2luZzogWzEsIDAsIDAsIDFdXG5cdH0pO1xufVxuXG4kKGRvY3VtZW50KVxuXHQucmVhZHkoZnVuY3Rpb24gKCkge1xuXHRcdHN3aXBlZGV0ZWN0KCRkb2N1bWVudCwgZnVuY3Rpb24gKHN3aXBlZGlyKSB7XG5cdFx0XHRpZiAoc3dpcGVkaXIgPT09ICdsZWZ0JyAmJiAhJGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKSkge1xuXHRcdFx0XHRIaXN0b3J5LnB1c2hTdGF0ZShcblx0XHRcdFx0XHR7IHN0YXRlOiAyIH0sXG5cdFx0XHRcdFx0J0Fib3V0LiAnICsgJHRpdGxlLFxuXHRcdFx0XHRcdCcvY29udGFjdCdcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKHN3aXBlZGlyID09PSAncmlnaHQnICYmICRib2R5Lmhhc0NsYXNzKCdjb250YWN0JykpIHtcblx0XHRcdFx0SGlzdG9yeS5wdXNoU3RhdGUoeyBzdGF0ZTogMSB9LCAkdGl0bGUsICcvJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkd2luVyA9ICQod2luZG93KS53aWR0aCgpO1xuXHRcdCR3aW5IID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXG5cdFx0JCgnI3NvdW5kLWJ0bicpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICgkKHRoaXMpLmhhc0NsYXNzKCdtdXRlZCcpKSB7XG5cdFx0XHRcdGxvYWRTb3VuZCgnYXNzZXRzL2F1ZGlvL2xvb3AubXAzJyk7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ211dGVkJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0c3RvcFNvdW5kKCk7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ211dGVkJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQkKCcjY29udGFjdC1idG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKCRib2R5LmF0dHIoJ2RhdGEtc2VjdGlvbicpID09PSAnY29udGFjdCcpIHtcblx0XHRcdFx0SGlzdG9yeS5wdXNoU3RhdGUoeyBzdGF0ZTogMSB9LCAkdGl0bGUsICcvJyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0SGlzdG9yeS5wdXNoU3RhdGUoeyBzdGF0ZTogMiB9LCAnQ29udGFjdC4gJyArICR0aXRsZSwgJy9jb250YWN0Jyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBpZiAoJGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKSkge1xuXHRcdFx0Ly8gXHRIaXN0b3J5LnB1c2hTdGF0ZSh7IHN0YXRlOiAxIH0sICR0aXRsZSwgJy8nKTtcblx0XHRcdC8vIH0gZWxzZSB7XG5cdFx0XHQvLyBcdEhpc3RvcnkucHVzaFN0YXRlKFxuXHRcdFx0Ly8gXHRcdHsgc3RhdGU6IDIgfSxcblx0XHRcdC8vIFx0XHQnQ29udGFjdC4gJyArICR0aXRsZSxcblx0XHRcdC8vIFx0XHQnL2NvbnRhY3QnXG5cdFx0XHQvLyBcdCk7XG5cdFx0XHQvLyB9XG5cdFx0fSk7XG5cblx0XHQkKCcjc3dpcGUnKS5vbigndG91Y2hlbmQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoJGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKSkge1xuXHRcdFx0XHRIaXN0b3J5LnB1c2hTdGF0ZSh7IHN0YXRlOiAxIH0sICR0aXRsZSwgJy8nKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRIaXN0b3J5LnB1c2hTdGF0ZShcblx0XHRcdFx0XHR7IHN0YXRlOiAyIH0sXG5cdFx0XHRcdFx0J0NvbnRhY3QuICcgKyAkdGl0bGUsXG5cdFx0XHRcdFx0Jy9jb250YWN0J1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KVxuXHQubW91c2Vtb3ZlKGZ1bmN0aW9uIChlKSB7XG5cdFx0Ly8gVE9ETzogbW91c2Vtb3ZlXG5cdFx0Ly8gaWYgKFxuXHRcdC8vIFx0ZS5wYWdlWCA8ICR3aW5XICogMC4yIHx8XG5cdFx0Ly8gXHRlLnBhZ2VYID4gJHdpblcgKiAwLjggfHxcblx0XHQvLyBcdGUucGFnZVkgPCAkd2luSCAqIDAuMiB8fFxuXHRcdC8vIFx0ZS5wYWdlWSA+ICR3aW5IICogMC44XG5cdFx0Ly8gKSB7XG5cdFx0Ly8gXHRpZiAoJGxvYWRlZCAmJiAhJGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKSkge1xuXHRcdC8vIFx0XHQkYm9keS5hZGRDbGFzcygnbW91c2UtZWRnZScpO1xuXHRcdC8vIFx0XHQkZWRnZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHQvLyBcdFx0XHQkbG9nb0ggPSAkKCcjbGFuZGluZyBoZ3JvdXAgaW1nJykuaGVpZ2h0KCk7XG5cdFx0Ly8gXHRcdFx0Ly8gVHdlZW5MaXRlLnRvKCR3aGl0ZUZpbGxNYXNrLnBvc2l0aW9uLCAxLCB7ZWFzZTogUG93ZXIyLmVhc2VPdXQsIHk6ICR3aW5ILzIgLSAkbG9nb0h9KTtcblx0XHQvLyBcdFx0XHQvLyBUd2VlbkxpdGUudG8oJHdoaXRlRmlsbE1hc2sucG9zaXRpb24sIDEsIHsgZWFzZTogUG93ZXIyLmVhc2VPdXQsIHk6ICRoaWRkZW5Mb2dvLm9mZnNldCgpLnRvcCB9KTtcblx0XHQvLyBcdFx0fSwgMTEwMCk7XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfSBlbHNlIHtcblx0XHQvLyBcdGNsZWFyVGltZW91dCgkZWRnZVRpbWVvdXQpO1xuXHRcdC8vIH1cblx0XHQvLyBpZiAoJGxvYWRlZCkge1xuXHRcdC8vIFx0dmFyICR4ID0gZS5wYWdlWDtcblx0XHQvLyBcdHZhciAkeSA9IGUucGFnZVk7XG5cblx0XHQvLyBcdCR0ZXh0dXJlNS5wb3NpdGlvbi54ID0gJHg7XG5cdFx0Ly8gXHQkdGV4dHVyZTUucG9zaXRpb24ueSA9ICR5O1xuXHRcdC8vIH1cblx0XHQvLyBpZiAoJHdpblcgPCA3NjcpIHtcblx0XHQvLyBcdGlmICh0eXBlb2YgbGFzdFBvc2l0aW9uLnggIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0Ly8gXHRcdHZhciBkZWx0YVggPSBsYXN0UG9zaXRpb24ueCAtIGV2ZW50LmNsaWVudFgsXG5cdFx0Ly8gXHRcdFx0ZGVsdGFZID0gbGFzdFBvc2l0aW9uLnkgLSBldmVudC5jbGllbnRZO1xuXG5cdFx0Ly8gXHRcdC8vIGNoZWNrIHdoaWNoIGRpcmVjdGlvbiBoYWQgdGhlIGhpZ2hlc3QgYW1wbGl0dWRlIGFuZCB0aGVuIGZpZ3VyZSBvdXQgZGlyZWN0aW9uIGJ5IGNoZWNraW5nIGlmIHRoZSB2YWx1ZSBpcyBncmVhdGVyIG9yIGxlc3MgdGhhbiB6ZXJvXG5cdFx0Ly8gXHRcdGlmIChcblx0XHQvLyBcdFx0XHRNYXRoLmFicyhkZWx0YVgpID4gTWF0aC5hYnMoZGVsdGFZKSAmJlxuXHRcdC8vIFx0XHRcdGRlbHRhWCA+IDAgJiZcblx0XHQvLyBcdFx0XHQhJGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKVxuXHRcdC8vIFx0XHQpIHtcblx0XHQvLyBcdFx0XHQkZ29Db250YWN0ID0gdHJ1ZTtcblx0XHQvLyBcdFx0XHQkZ29Ib21lID0gZmFsc2U7XG5cdFx0Ly8gXHRcdH0gZWxzZSBpZiAoXG5cdFx0Ly8gXHRcdFx0TWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkgJiZcblx0XHQvLyBcdFx0XHRkZWx0YVggPCAwICYmXG5cdFx0Ly8gXHRcdFx0JGJvZHkuaGFzQ2xhc3MoJ2NvbnRhY3QnKVxuXHRcdC8vIFx0XHQpIHtcblx0XHQvLyBcdFx0XHQkZ29Db250YWN0ID0gZmFsc2U7XG5cdFx0Ly8gXHRcdFx0JGdvSG9tZSA9IHRydWU7XG5cdFx0Ly8gXHRcdH1cblx0XHQvLyBcdH1cblxuXHRcdC8vIFx0Ly8gc2V0IHRoZSBuZXcgbGFzdCBwb3NpdGlvbiB0byB0aGUgY3VycmVudCBmb3IgbmV4dCB0aW1lXG5cdFx0Ly8gXHRsYXN0UG9zaXRpb24gPSB7XG5cdFx0Ly8gXHRcdHg6IGV2ZW50LmNsaWVudFgsXG5cdFx0Ly8gXHRcdHk6IGV2ZW50LmNsaWVudFlcblx0XHQvLyBcdH07XG5cdFx0Ly8gfVxuXHRcdC8vIGNsZWFyVGltZW91dCgkbW91c2VFbmQpO1xuXHRcdC8vIG15WCA9IGUucGFnZVg7XG5cdFx0Ly8gbXlZID0gZS5wYWdlWTtcblx0XHQvLyAkbW91c2VFbmQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHQvLyBcdG1vdXNlRW5kKG15WCwgbXlZKTtcblx0XHQvLyB9LCA2MDApO1xuXHR9KVxuXHQubW91c2V1cChmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaWYgKCR3aW5XIDwgNzY3KSB7XG5cdFx0Ly8gXHRpZiAoJGdvQ29udGFjdCkge1xuXHRcdC8vIFx0XHRIaXN0b3J5LnB1c2hTdGF0ZShcblx0XHQvLyBcdFx0XHR7IHN0YXRlOiAyIH0sXG5cdFx0Ly8gXHRcdFx0J0NvbnRhY3QuICcgKyAkdGl0bGUsXG5cdFx0Ly8gXHRcdFx0Jy9jb250YWN0J1xuXHRcdC8vIFx0XHQpO1xuXHRcdC8vIFx0fSBlbHNlIGlmICgkZ29Ib21lKSB7XG5cdFx0Ly8gXHRcdEhpc3RvcnkucHVzaFN0YXRlKHsgc3RhdGU6IDEgfSwgJHRpdGxlLCAnLycpO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblx0fSk7XG5cbi8vIGZ1bmN0aW9uIG1vdXNlRW5kICgkbVgsICRtWSkge1xuLy8gXHRpZiAob2xkWCA8ICRtWCkge1xuLy8gXHRcdHhEaXJlY3Rpb24gPSAncmlnaHQnO1xuLy8gXHR9IGVsc2Uge1xuLy8gXHRcdHhEaXJlY3Rpb24gPSAnbGVmdCc7XG4vLyBcdH1cbi8vIFx0aWYgKG9sZFkgPCAkbVkpIHtcbi8vIFx0XHR5RGlyZWN0aW9uID0gJ2Rvd24nO1xuLy8gXHR9IGVsc2Uge1xuLy8gXHRcdHlEaXJlY3Rpb24gPSAndXAnO1xuLy8gXHR9XG4vLyBcdG9sZFggPSAkbVg7XG4vLyBcdG9sZFkgPSAkbVk7XG4vLyB9XG5cbiQod2luZG93KVxuXHQub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG5cdFx0JHdpblcgPSAkKHdpbmRvdykud2lkdGgoKTtcblx0XHQkd2luSCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0XHQkYm9keS5hZGRDbGFzcygnbG9hZGVkJyk7XG5cblx0XHR2YXIgdXJsID0gJChsb2NhdGlvbilcblx0XHRcdC5hdHRyKCdocmVmJylcblx0XHRcdC5zcGxpdCgnLycpXG5cdFx0XHQuc3BsaWNlKDAsIDUpXG5cdFx0XHQuam9pbignLycpO1xuXG5cdFx0dmFyIHNlZ21lbnRzID0gdXJsLnNwbGl0KCcvJyk7XG5cdFx0dmFyIGFjdGlvbiA9IHNlZ21lbnRzWzNdO1xuXG5cdFx0aWYgKGFjdGlvbiA9PT0gJ2NvbnRhY3QnKSB7XG5cdFx0XHQkKGRvY3VtZW50KS5wcm9wKCd0aXRsZScsICdDb250YWN0LiAnICsgJHRpdGxlKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHQkKGRvY3VtZW50KS5wcm9wKCd0aXRsZScsICR0aXRsZSk7XG5cdFx0fVxuXG5cdFx0Ly8gUHJlbG9hZCB0ZXh0dXJlc1xuXHRcdHZhciBsb2FkZXIgPSBQSVhJLmxvYWRlcjtcblx0XHRURVhUVVJFUy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuXHRcdFx0bG9hZGVyLmFkZCh2YWx1ZS5rZXksIHZhbHVlLnNyYyk7XG5cdFx0fSk7XG5cblx0XHRsb2FkZXIubG9hZChmdW5jdGlvbiAobG9hZGVyLCByZXNvdXJjZXMpIHtcblx0XHRcdFJFU09VUkNFUyA9IHJlc291cmNlcztcblxuXHRcdFx0c2V0QmFja2dyb3VuZChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdCRib2R5LmFkZENsYXNzKCd0ZXh0dXJlLWxvYWRlZCcpO1xuXHRcdFx0XHQvLyBUT0RPOiByZXN0b3JlIHJldmVhbCBhbmltYXRpb25cblx0XHRcdFx0Ly8gJGJvZHkuYXR0cignZGF0YS1zZWN0aW9uJywgJ2xhbmRpbmcnKTtcblx0XHRcdFx0Ly8gbGFuZGluZ0FuaW1hdGlvbigpLnBsYXkoKVxuXG5cdFx0XHRcdHZhciBsQW5pbSA9IGxhbmRpbmdBbmltYXRpb24odHJ1ZSkucGxheVxuXHRcdFx0XHR0bFJlYXZlYWwgPSByZXZlYWxBbmltYXRpb24obEFuaW0pO1xuXHRcdFx0XHR0bFJlYXZlYWwuYWRkKHtcblx0XHRcdFx0XHRkdXJhdGlvbjogMCxcblx0XHRcdFx0XHRjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdFx0JCh3aW5kb3cpLm9uKCdyZXNpemUnLCByZXNpemUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdFx0dGxSZWF2ZWFsLnBsYXkoKTtcblx0XHRcdH0sXG5cdFx0XHRSRVNPVVJDRVMpO1xuXHRcdH0pO1xuXHR9KTtcblxuZnVuY3Rpb24gcmVzaXplKCkge1xuXHRvblJlc2l6ZVN0YXJ0KCk7XG5cdCRib2R5LmFkZENsYXNzKCdyZXNpemluZycpO1xuXHQkYm9keS5yZW1vdmVDbGFzcygndGV4dHVyZS1sb2FkZWQnKTtcblxuXHQkd2luVyA9ICQod2luZG93KS53aWR0aCgpO1xuXHQkd2luSCA9ICQod2luZG93KS5oZWlnaHQoKTtcblx0aWYgKCRyZW5kZXJlcikge1xuXHRcdCRyZW5kZXJlci5kZXN0cm95KCk7XG5cdFx0JHJlbmRlcmVyID0gbnVsbDtcblx0XHQkKCcjdGV4dHVyZSBjYW52YXMnKS5yZW1vdmUoKTtcblx0XHRpZiAoISQoJyNzb3VuZC1idG4nKS5oYXNDbGFzcygnbXV0ZWQnKSAmJiBzb3VuZFBsYXlpbmcpIHtcblx0XHRcdHN0b3BTb3VuZCgpO1xuXHRcdH1cblx0fVxuXHRjbGVhckludGVydmFsKCR2aXN1YWxpemVyKTtcblx0Y2xlYXJUaW1lb3V0KCRyZXNpemVyKTtcblx0JHJlc2l6ZXIgPSBzZXRUaW1lb3V0KHJlc2l6ZUVuZCwgNjAwKTtcbn1cblxuZnVuY3Rpb24gZ29Ib21lKCkge1xuXHR2YXIgJCRpbWFnaW5hdGlvbiA9ICQoRWxlbWVudHMuZ2V0KCdjb250YWN0JykudmFsdWUoJ2ltYWdpbmF0aW9uJykpO1xuXHRhbmltZS50aW1lbGluZSh7XG5cdFx0Y29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblx0XHRcdCQoRWxlbWVudHMuZ2V0KCdnbG9iYWwnKS52YWx1ZSgnY29udGFjdEJ0bicpKVxuXHRcdFx0XHQuZmluZCgnLm91dGVyID4gc3BhbicpXG5cdFx0XHRcdC50ZXh0KCdhYm91dCcpO1xuXG5cdFx0XHR2YXIgdGwgPSBsYW5kaW5nQW5pbWF0aW9uKCk7XG5cdFx0XHQkYm9keS5hdHRyKCdkYXRhLXNlY3Rpb24nLCAnbGFuZGluZycpO1xuXG5cdFx0XHQvLyBSZXNldFxuXHRcdFx0YW5pbWUoe1xuXHRcdFx0XHR0YXJnZXRzOiBfLnZhbHVlcyhFbGVtZW50cy5nZXQoJ2xhbmRpbmcnKS52YWx1ZSgpKSxcblx0XHRcdFx0dHJhbnNsYXRlWTogMCxcblx0XHRcdFx0b3BhY2l0eTogMSxcblx0XHRcdFx0ZHVyYXRpb246IDAsXG5cdFx0XHRcdGVhc2luZzogJ2xpbmVhcidcblx0XHRcdH0pO1xuXG5cdFx0XHR0bC5wbGF5KCk7XG5cdFx0fVxuXHR9KVxuXHQuYWRkKHtcblx0XHR0YXJnZXRzOiAkKCcjY29udGFjdCAuc2VjdGlvbiAub3V0ZXIgPiBzcGFuJykuZ2V0KCkucmV2ZXJzZSgpLFxuXHRcdHRyYW5zbGF0ZVk6IFswLCAnMTAwJSddLFxuXHRcdGR1cmF0aW9uOiA2MDAsXG5cdFx0ZWFzaW5nOiAnZWFzZU91dEV4cG8nLFxuXHRcdGRlbGF5OiBmdW5jdGlvbiAoZWwsIGkpIHtcblx0XHRcdHJldHVybiA1MCAqIGk7XG5cdFx0fVxuXHR9KVxuXHQuYWRkKHtcblx0XHR0YXJnZXRzOiAkJGltYWdpbmF0aW9uLmJsYXN0KCkuZ2V0KCkucmV2ZXJzZSgpLFxuXHRcdHRyYW5zbGF0ZVg6IFswLCAtNDBdLFxuXHRcdG9wYWNpdHk6IFsxLCAwXSxcblx0XHRkdXJhdGlvbjogODAwLFxuXHRcdGVhc2luZzogJ2Vhc2VPdXRFeHBvJyxcblx0XHRvZmZzZXQ6IDQwMCxcblx0XHRkZWxheTogZnVuY3Rpb24gKGVsLCBpKSB7XG5cdFx0XHRyZXR1cm4gNTAwICsgMzAgKiBpO1xuXHRcdH1cblx0fSk7XG5cblx0Z2EoJ3NldCcsIHsgcGFnZTogd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLCB0aXRsZTogJ0hvbWUnIH0pO1xuXHRnYSgnc2VuZCcsICdwYWdldmlldycpO1xufVxuXG5mdW5jdGlvbiBnb0NvbnRhY3QoKSB7XG5cdG9uUmVzaXplU3RhcnQoZnVuY3Rpb24gKCkge1xuXHRcdCQoRWxlbWVudHMuZ2V0KCdnbG9iYWwnKS52YWx1ZSgnY29udGFjdEJ0bicpKVxuXHRcdFx0LmZpbmQoJy5vdXRlciA+IHNwYW4nKVxuXHRcdFx0LnRleHQoJ2JhY2snKTtcblxuXHRcdCRib2R5LmF0dHIoJ2RhdGEtc2VjdGlvbicsICdjb250YWN0Jyk7XG5cdFx0dmFyICRlbGVtZW50cyA9IEVsZW1lbnRzLmdldCgnY29udGFjdCcpLnZhbHVlKCk7XG5cblx0XHQvLyBSZXNldFxuXHRcdGFuaW1lKHtcblx0XHRcdHRhcmdldHM6IF8udmFsdWVzKCRlbGVtZW50cyksXG5cdFx0XHR0cmFuc2xhdGVZOiAnMTAwJScsXG5cdFx0XHRvcGFjaXR5OiAxLFxuXHRcdFx0ZHVyYXRpb246IDAsXG5cdFx0XHRlYXNpbmc6ICdsaW5lYXInXG5cdFx0fSk7XG5cblx0XHRjb250YWN0QW5pbWF0aW9uKCkucGxheSgpO1xuXHR9KTtcblxuXHRnYSgnc2V0JywgeyBwYWdlOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsIHRpdGxlOiAnQ29udGFjdCcgfSk7XG5cdGdhKCdzZW5kJywgJ3BhZ2V2aWV3Jyk7XG59XG5cbmZ1bmN0aW9uIHJlc2l6ZUVuZCgpIHtcblx0aWYgKCRyZW5kZXJlcikge1xuXHRcdCRkaXNwbGFjZW1lbnQxLnNjYWxlLnggPSAkc2l6ZTtcblx0XHQkZGlzcGxhY2VtZW50MS5zY2FsZS55ID0gJHNpemU7XG5cdFx0JGRpc3BsYWNlbWVudDIuc2NhbGUueCA9ICRzaXplIC8gMjtcblx0XHQkZGlzcGxhY2VtZW50Mi5zY2FsZS55ID0gJHNpemUgLyAyO1xuXHRcdCRkaXNwbGFjZW1lbnQzLnNjYWxlLnggPSAkc2l6ZTtcblx0XHQkZGlzcGxhY2VtZW50My5zY2FsZS55ID0gJHNpemU7XG5cdFx0JGRpc3BsYWNlbWVudDQuc2NhbGUueCA9ICRzaXplIC8gMjtcblx0XHQkZGlzcGxhY2VtZW50NC5zY2FsZS55ID0gJHNpemUgLyAyO1xuXHRcdCR0ZXh0dXJlMS5wb3NpdGlvbi54ID0gMDtcblx0XHQkdGV4dHVyZTEucG9zaXRpb24ueSA9IDA7XG5cdFx0JHRleHR1cmUyLnBvc2l0aW9uLnggPSAwO1xuXHRcdCR0ZXh0dXJlMi5wb3NpdGlvbi55ID0gMDtcblx0XHQkdGV4dHVyZTMucG9zaXRpb24ueCA9IDA7XG5cdFx0JHRleHR1cmUzLnBvc2l0aW9uLnkgPSAwO1xuXHRcdCR0ZXh0dXJlNC5wb3NpdGlvbi54ID0gMDtcblx0XHQkdGV4dHVyZTQucG9zaXRpb24ueSA9IDA7XG5cdFx0JHJlbmRlcmVyID0gbnVsbDtcblx0fVxuXG5cdHNldEJhY2tncm91bmQoZnVuY3Rpb24gKCkge1xuXHRcdCRib2R5LmFkZENsYXNzKCd0ZXh0dXJlLWxvYWRlZCcpO1xuXHRcdG9uUmVzaXplRW5kKCk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBzZXRCYWNrZ3JvdW5kKGNhbGxiYWNrKSB7XG5cdCR3aW5XID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cdCR3aW5IID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuXHQvLyB2YXIgcmVzID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cblx0JHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoJHdpblcsICR3aW5ILCB7XG5cdFx0dHJhbnNwYXJlbnQ6IGZhbHNlLFxuXHRcdC8vICdyZXNvbHV0aW9uJzogcmVzLFxuXHRcdGF1dG9SZXNpemU6IHRydWVcblx0fSk7XG5cdHZhciAkZmlsbCA9IHN4c3cuZmlsbHNjcmVlbigkd2luVyAqIDIsICR3aW5IICogMiwgMTAyNCwgMTAyNCk7XG5cdHZhciAkZmlsbFcgPSAkZmlsbC53aWR0aDtcblx0dmFyICRmaWxsSCA9ICRmaWxsLmhlaWdodDtcblx0dmFyICRmaWxsWCA9ICR3aW5XICogLTAuNTtcblx0dmFyICRmaWxsWSA9ICgkZmlsbEggLSAkd2luSCkgKiAtMC41O1xuXG5cdFBJWEkuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXG5cdCRyZW5kZXJlci52aWV3LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcblx0JHJlbmRlcmVyLnZpZXcuc3R5bGUubGVmdCA9ICcwcHgnO1xuXHQkcmVuZGVyZXIudmlldy5zdHlsZS50b3AgPSAnMHB4Jztcblx0JHJlbmRlcmVyLnZpZXcuc3R5bGUud2lkdGggPSAnMTAwJSc7XG5cdCRyZW5kZXJlci52aWV3LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcblxuXHR2YXIgJHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG5cblx0dmFyIGZpbHRlciA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcblx0dmFyIG5CcmlnaHRuZXNzID0gMS4yNTtcblxuXHQkdGV4dHVyZTEgPSBuZXcgUElYSS5TcHJpdGUoUkVTT1VSQ0VTWyd0ZXh0dXJlMSddLnRleHR1cmUpO1xuXHQkdGV4dHVyZTIgPSBuZXcgUElYSS5TcHJpdGUoUkVTT1VSQ0VTWyd0ZXh0dXJlMiddLnRleHR1cmUpO1xuXHQkdGV4dHVyZTMgPSBuZXcgUElYSS5TcHJpdGUoUkVTT1VSQ0VTWyd0ZXh0dXJlMSddLnRleHR1cmUpO1xuXHQkdGV4dHVyZTQgPSBuZXcgUElYSS5TcHJpdGUoUkVTT1VSQ0VTWyd0ZXh0dXJlMiddLnRleHR1cmUpO1xuXG5cdCR0ZXh0dXJlMS5maWx0ZXJzID0gW2ZpbHRlci5icmlnaHRuZXNzKG5CcmlnaHRuZXNzKV07XG5cdCR0ZXh0dXJlMi5maWx0ZXJzID0gW2ZpbHRlci5icmlnaHRuZXNzKG5CcmlnaHRuZXNzKV07XG5cdCR0ZXh0dXJlMy5maWx0ZXJzID0gW2ZpbHRlci5icmlnaHRuZXNzKG5CcmlnaHRuZXNzKV07XG5cdCR0ZXh0dXJlNC5maWx0ZXJzID0gW2ZpbHRlci5icmlnaHRuZXNzKG5CcmlnaHRuZXNzKV07XG5cblx0dmFyIGlkeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpO1xuXHR2YXIgJGltYWdlID0gbmV3IFBJWEkuU3ByaXRlKFJFU09VUkNFU1snYmFja2dyb3VuZCcgKyBpZHhdLnRleHR1cmUpO1xuXHR2YXIgJGNvbnRhaW5lcjIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcblxuXHQkZGlzcGxhY2VtZW50MyA9IG5ldyBQSVhJLmZpbHRlcnMuRGlzcGxhY2VtZW50RmlsdGVyKCR0ZXh0dXJlMyk7XG5cdCRkaXNwbGFjZW1lbnQ0ID0gbmV3IFBJWEkuZmlsdGVycy5EaXNwbGFjZW1lbnRGaWx0ZXIoJHRleHR1cmU0KTtcblx0JGRpc3BsYWNlbWVudDMuc2NhbGUueCA9ICRzaXplIC8gMjtcblx0JGRpc3BsYWNlbWVudDMuc2NhbGUueSA9ICRzaXplIC8gMjtcblx0JGRpc3BsYWNlbWVudDQuc2NhbGUueCA9ICRzaXplIC8gNDtcblx0JGRpc3BsYWNlbWVudDQuc2NhbGUueSA9ICRzaXplIC8gNDtcblxuXHQkaW1hZ2UuZmlsdGVycyA9IFskZGlzcGxhY2VtZW50MywgJGRpc3BsYWNlbWVudDRdO1xuXHQkaW1hZ2UucG9zaXRpb24ueCA9ICRmaWxsWDtcblx0JGltYWdlLnBvc2l0aW9uLnkgPSAkZmlsbFk7XG5cdCRpbWFnZS53aWR0aCA9ICRmaWxsVztcblx0JGltYWdlLmhlaWdodCA9ICRmaWxsSDtcblx0JGltYWdlLmFscGhhID0gMC41O1xuXG5cdCRjb250YWluZXIyLmFkZENoaWxkKCR0ZXh0dXJlMyk7XG5cdCRjb250YWluZXIyLmFkZENoaWxkKCR0ZXh0dXJlNCk7XG5cdCRjb250YWluZXIyLmFkZENoaWxkKCRpbWFnZSk7XG5cdCRjb250YWluZXIyLmFscGhhID0gMDtcblxuXHQkc3RhZ2UuYWRkQ2hpbGQoJGNvbnRhaW5lcjIpO1xuXHQkc3RhZ2UuZmlsdGVycyA9IFtmaWx0ZXJdO1xuXG5cdCQoJyN0ZXh0dXJlJykuYXBwZW5kKCRyZW5kZXJlci52aWV3KTtcblxuXHRmdW5jdGlvbiAkYW5pbWF0ZSgpIHtcblx0XHR2YXIgJHJlbmRlckNhbnZhcyA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgkYW5pbWF0ZSk7XG5cdFx0aWYgKCR3aW5XID4gNzY3KSB7XG5cdFx0XHQkdGV4dHVyZTEucG9zaXRpb24ueSArPSAwLjI1O1xuXHRcdFx0JHRleHR1cmUyLnBvc2l0aW9uLnkgKz0gMC4yNTtcblx0XHRcdCR0ZXh0dXJlMy5wb3NpdGlvbi55ICs9IC0wLjI1O1xuXHRcdFx0JHRleHR1cmU0LnBvc2l0aW9uLnkgKz0gLTAuMjU7XG5cdFx0fVxuXHRcdGlmICgkcmVuZGVyZXIpIHtcblx0XHRcdCRyZW5kZXJlci5yZW5kZXIoJHN0YWdlKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjYW5jZWxBbmltYXRpb25GcmFtZSgkcmVuZGVyQ2FudmFzKTtcblx0XHR9XG5cdH1cblx0JGFuaW1hdGUoKTtcblx0JGJvZHkucmVtb3ZlQ2xhc3MoJ3Jlc2l6aW5nJyk7XG5cblx0JGxvYWRlZCA9IHRydWU7XG5cdGNsZWFyVGltZW91dCgkYmFja2dyb3VuZFRpbWVvdXQpO1xuXG5cdHZhciBvbkNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuXHRcdC8vICRib2R5LmFkZENsYXNzKCd0ZXh0dXJlLWxvYWRlZCcpO1xuXHRcdGlmIChjYWxsYmFjayBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG5cdFx0XHRjYWxsYmFjaygpO1xuXHRcdH1cblx0fTtcblxuXHQkYmFja2dyb3VuZFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRpZiAoJHdpblcgPiA3NjcpIHtcblx0XHRcdGFuaW1lKHtcblx0XHRcdFx0dGFyZ2V0czogJGNvbnRhaW5lcjIsXG5cdFx0XHRcdGR1cmF0aW9uOiA1LFxuXHRcdFx0XHRhbHBoYTogWzAsIDAuOV0sXG5cdFx0XHRcdGVhc2luZzogWzAuMTcsIDAuNjcsIDAuODMsIDAuNjddLFxuXHRcdFx0XHRjb21wbGV0ZTogb25Db21wbGV0ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0YW5pbWUoe1xuXHRcdFx0XHR0YXJnZXRzOiAkY29udGFpbmVyMixcblx0XHRcdFx0ZHVyYXRpb246IDUsXG5cdFx0XHRcdGFscGhhOiBbMCwgMS4wXSxcblx0XHRcdFx0ZWFzaW5nOiBbMC4xNywgMC42NywgMC44MywgMF0sXG5cdFx0XHRcdGNvbXBsZXRlOiBvbkNvbXBsZXRlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoJGF1ZGlvKSB7XG5cdFx0XHRpZiAoISQoJyNzb3VuZC1idG4nKS5oYXNDbGFzcygnbXV0ZWQnKSkge1xuXHRcdFx0XHRsb2FkU291bmQoJ2Fzc2V0cy9hdWRpby9sb29wLm1wMycpO1xuXHRcdFx0XHQkYm9keS5hZGRDbGFzcygnYXVkaW8nKTtcblx0XHRcdH1cblx0XHR9XG5cdH0sIDYwMCk7XG5cblx0Ly8gaWYgKCRib2R5Lmhhc0NsYXNzKCdtb3VzZS1lZGdlJykpIHtcblx0Ly8gXHQvLyBUd2VlbkxpdGUudG8oJHdoaXRlRmlsbE1hc2sucG9zaXRpb24sIDEsIHsgZWFzZTogUG93ZXIyLmVhc2VPdXQsIHk6ICR3aW5IIC8gMiAtICRsb2dvSCB9KTtcblx0Ly8gfVxuXG5cdC8vIGlmICgkY29udGFjdCAmJiAhJGJvZHkuaGFzQ2xhc3MoJ3RleHR1cmUtbG9hZGVkJykpIHtcblx0Ly8gXHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0Ly8gXHRcdGdvQ29udGFjdCgpO1xuXHQvLyBcdH0sIDEwMDApO1xuXHQvLyB9XG5cblx0Ly8gJGJvZHkuYWRkQ2xhc3MoJ3RleHR1cmUtbG9hZGVkJyk7XG59XG5cbmlmICh3aW5kb3cuRGV2aWNlT3JpZW50YXRpb25FdmVudCAmJiAkd2luVyA8PSA3NjcpIHtcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG5cdFx0J2RldmljZW9yaWVudGF0aW9uJyxcblx0XHRmdW5jdGlvbiAoZXZlbnREYXRhKSB7XG5cdFx0XHR2YXIgdGlsdExSID0gZXZlbnREYXRhLmdhbW1hO1xuXHRcdFx0dmFyIHRpbHRGQiA9IGV2ZW50RGF0YS5iZXRhO1xuXHRcdFx0dmFyIGRpciA9IGV2ZW50RGF0YS5hbHBoYTtcblx0XHRcdGlmICgkbG9hZGVkKSB7XG5cdFx0XHRcdGRldmljZU9yaWVudGF0aW9uSGFuZGxlcih0aWx0TFIsIHRpbHRGQiwgZGlyKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGZhbHNlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGRldmljZU9yaWVudGF0aW9uSGFuZGxlcih0aWx0TFIsIHRpbHRGQiwgZGlyKSB7XG5cdCR0ZXh0dXJlMy5wb3NpdGlvbi55ID0gdGlsdEZCO1xuXHQkdGV4dHVyZTQucG9zaXRpb24ueSA9IC10aWx0RkI7XG59XG5cbmZ1bmN0aW9uIGxvYWRTb3VuZCh1cmwpIHtcblx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0cmVxdWVzdC5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuXHRyZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG5cdHJlcXVlc3Qub25sb2FkID0gZnVuY3Rpb24gKCkge1xuXHRcdHNvdW5kUGxheWluZyA9IHRydWU7XG5cdFx0YXVkaW9Db250ZXh0LmRlY29kZUF1ZGlvRGF0YShyZXF1ZXN0LnJlc3BvbnNlLCBmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHQvLyB2YXIgc291bmRMZW5ndGggPSBidWZmZXIuZHVyYXRpb247XG5cdFx0XHRzYW1wbGVCdWZmZXIgPSBidWZmZXI7XG5cdFx0XHRwbGF5U291bmQoMCk7XG5cblx0XHRcdCR2aXN1YWxpemVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRpZiAoJGF1ZGlvICYmICRwbGF5aW5nICYmICRib2R5Lmhhc0NsYXNzKCd0ZXh0dXJlLWxvYWRlZCcpKSB7XG5cdFx0XHRcdFx0dmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuXHRcdFx0XHRcdGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGFycmF5KTtcblx0XHRcdFx0XHQvLyBUd2VlbkxpdGUudG8oJGRpc3BsYWNlbWVudDMuc2NhbGUsIC4xNSwgeyBlYXNlOiBQb3dlcjIuZWFzZU91dCwgeDogMjU2MCAqIGFycmF5WzRdIC8gMTUwIH0pO1xuXHRcdFx0XHRcdC8vIFR3ZWVuTGl0ZS50bygkZGlzcGxhY2VtZW50My5zY2FsZSwgLjE1LCB7IGVhc2U6IFBvd2VyMi5lYXNlT3V0LCB4eTogMjU2MCAqIGFycmF5WzRdIC8gMTUwIH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fTtcblx0cmVxdWVzdC5zZW5kKCk7XG59XG5cbmZ1bmN0aW9uIHNldHVwU291bmQoKSB7XG5cdHNvdW5kID0gYXVkaW9Db250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO1xuXHRzb3VuZC5idWZmZXIgPSBzYW1wbGVCdWZmZXI7XG5cdHNvdW5kLmxvb3AgPSBsb29wO1xuXHRzb3VuZC5sb29wU3RhcnQgPSAwO1xuXHRzb3VuZC5sb29wRW5kID0gc2FtcGxlQnVmZmVyLmR1cmF0aW9uO1xuXHRzb3VuZC5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG5cdHNvdW5kLmNvbm5lY3QoYW5hbHlzZXIpO1xuXHRhbmFseXNlci5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG5cdHNvdW5kLmNvbm5lY3QoZ2Fpbk5vZGUpO1xuXHRnYWluTm9kZS5jb25uZWN0KGF1ZGlvQ29udGV4dC5kZXN0aW5hdGlvbik7XG5cdHNvdW5kLnBsYXliYWNrUmF0ZS52YWx1ZSA9IDE7XG59XG5cbmZ1bmN0aW9uIHBsYXlTb3VuZCh0aW1lKSB7XG5cdHNldHVwU291bmQoKTtcblx0c291bmQuc3RhcnQodGltZSk7XG5cdCRwbGF5aW5nID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gc3RvcFNvdW5kKCkge1xuXHQkcGxheWluZyA9IGZhbHNlO1xuXHRzb3VuZFBsYXlpbmcgPSBmYWxzZTtcblx0Z2Fpbk5vZGUuZ2Fpbi5leHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lKFxuXHRcdDAuMDAxLFxuXHRcdGF1ZGlvQ29udGV4dC5jdXJyZW50VGltZSArIDJcblx0KTtcblx0c291bmQuc3RvcCgwKTtcblx0Y2xlYXJJbnRlcnZhbCgkdmlzdWFsaXplcik7XG59XG5cbnZhciBzeHN3ID0ge1xuXHRmaWxsc2NyZWVuOiBmdW5jdGlvbiAoYm94V2lkdGgsIGJveEhlaWdodCwgaW1nV2lkdGgsIGltZ0hlaWdodCkge1xuXHRcdHZhciBpbml0VyA9IGltZ1dpZHRoO1xuXHRcdHZhciBpbml0SCA9IGltZ0hlaWdodDtcblx0XHR2YXIgcmF0aW8gPSBpbml0SCAvIGluaXRXO1xuXHRcdGltZ1dpZHRoID0gYm94V2lkdGg7XG5cdFx0aW1nSGVpZ2h0ID0gYm94V2lkdGggKiByYXRpbztcblx0XHRpZiAoaW1nSGVpZ2h0IDwgYm94SGVpZ2h0KSB7XG5cdFx0XHRpbWdIZWlnaHQgPSBib3hIZWlnaHQ7XG5cdFx0XHRpbWdXaWR0aCA9IGltZ0hlaWdodCAvIHJhdGlvO1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IGltZ1dpZHRoLFxuXHRcdFx0aGVpZ2h0OiBpbWdIZWlnaHRcblx0XHR9O1xuXHR9XG59O1xuXG5mdW5jdGlvbiBzd2lwZWRldGVjdChlbCwgY2FsbGJhY2spIHtcblx0dmFyIHRvdWNoc3VyZmFjZSA9IGVsWzBdLFxuXHRcdHN3aXBlZGlyLFxuXHRcdHN0YXJ0WCxcblx0XHRzdGFydFksXG5cdFx0ZGlzdFgsXG5cdFx0ZGlzdFksXG5cdFx0dGhyZXNob2xkID0gMTUwLCAvLyByZXF1aXJlZCBtaW4gZGlzdGFuY2UgdHJhdmVsZWQgdG8gYmUgY29uc2lkZXJlZCBzd2lwZVxuXHRcdHJlc3RyYWludCA9IDEwMCwgLy8gbWF4aW11bSBkaXN0YW5jZSBhbGxvd2VkIGF0IHRoZSBzYW1lIHRpbWUgaW4gcGVycGVuZGljdWxhciBkaXJlY3Rpb25cblx0XHRhbGxvd2VkVGltZSA9IDIwMDAsIC8vIG1heGltdW0gdGltZSBhbGxvd2VkIHRvIHRyYXZlbCB0aGF0IGRpc3RhbmNlXG5cdFx0ZWxhcHNlZFRpbWUsXG5cdFx0c3RhcnRUaW1lLFxuXHRcdGhhbmRsZXN3aXBlID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKHN3aXBlZGlyKSB7fTtcblxuXHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHQndG91Y2hzdGFydCcsXG5cdFx0ZnVuY3Rpb24gKGUpIHtcblx0XHRcdHZhciB0b3VjaG9iaiA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG5cdFx0XHRzd2lwZWRpciA9ICdub25lJztcblx0XHRcdHN3aXBlVmFsID0gMDtcblx0XHRcdHN0YXJ0WCA9IHRvdWNob2JqLnBhZ2VYO1xuXHRcdFx0c3RhcnRZID0gdG91Y2hvYmoucGFnZVk7XG5cdFx0XHRzdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy8gcmVjb3JkIHRpbWUgd2hlbiBmaW5nZXIgZmlyc3QgbWFrZXMgY29udGFjdCB3aXRoIHN1cmZhY2Vcblx0XHRcdC8vIGUucHJldmVudERlZmF1bHQoKVxuXHRcdH0sXG5cdFx0ZmFsc2Vcblx0KTtcblxuXHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHQndG91Y2htb3ZlJyxcblx0XHRmdW5jdGlvbiAoZSkge1xuXHRcdFx0dmFyIHRvdWNob2JqID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcblx0XHRcdHN3aXBlVmFsID0gdG91Y2hvYmoucGFnZVg7XG5cdFx0XHQkYm9keS5hZGRDbGFzcygnc3dpcGluZycpO1xuXHRcdFx0aWYgKCEkYm9keS5oYXNDbGFzcygnY29udGFjdCcpKSB7XG5cdFx0XHRcdCQoJyN3aGl0ZS1maWxsJykuY3NzKFxuXHRcdFx0XHRcdCdsZWZ0Jyxcblx0XHRcdFx0XHRNYXRoLm1heCgoc3RhcnRYIC0gc3dpcGVWYWwpIC8gMTAsIDApICsgJ3B4J1xuXHRcdFx0XHQpO1xuXHRcdFx0XHQkKCcjc2xpZGVyJykuY3NzKFxuXHRcdFx0XHRcdCd3aWR0aCcsXG5cdFx0XHRcdFx0ODAgLSBNYXRoLm1heCgoc3RhcnRYIC0gc3dpcGVWYWwpIC8gNzUsIDApICsgJ3B4J1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdCQoJyN3aGl0ZS1maWxsJykuY3NzKFxuXHRcdFx0XHRcdCdsZWZ0Jyxcblx0XHRcdFx0XHRNYXRoLm1pbigwLCAoc3RhcnRYIC0gc3dpcGVWYWwpIC8gMTApICsgJ3B4J1xuXHRcdFx0XHQpO1xuXHRcdFx0XHQkKCcjc2xpZGVyJykuY3NzKFxuXHRcdFx0XHRcdCd3aWR0aCcsXG5cdFx0XHRcdFx0ODAgLSBNYXRoLm1pbigoc3RhcnRYIC0gc3dpcGVWYWwpIC8gNzUsIDApICogLTEgKyAncHgnXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7IC8vIHByZXZlbnQgc2Nyb2xsaW5nIHdoZW4gaW5zaWRlIERJVlxuXHRcdH0sXG5cdFx0ZmFsc2Vcblx0KTtcblxuXHR0b3VjaHN1cmZhY2UuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHQndG91Y2hlbmQnLFxuXHRcdGZ1bmN0aW9uIChlKSB7XG5cdFx0XHQkYm9keS5yZW1vdmVDbGFzcygnc3dpcGluZycpO1xuXHRcdFx0Y2xlYXJUaW1lb3V0KCRtb3ZlVGltZW91dCk7XG5cdFx0XHR2YXIgdG91Y2hvYmogPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuXHRcdFx0ZGlzdFggPSB0b3VjaG9iai5wYWdlWCAtIHN0YXJ0WDsgLy8gZ2V0IGhvcml6b250YWwgZGlzdCB0cmF2ZWxlZCBieSBmaW5nZXIgd2hpbGUgaW4gY29udGFjdCB3aXRoIHN1cmZhY2Vcblx0XHRcdGRpc3RZID0gdG91Y2hvYmoucGFnZVkgLSBzdGFydFk7IC8vIGdldCB2ZXJ0aWNhbCBkaXN0IHRyYXZlbGVkIGJ5IGZpbmdlciB3aGlsZSBpbiBjb250YWN0IHdpdGggc3VyZmFjZVxuXHRcdFx0ZWxhcHNlZFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHN0YXJ0VGltZTsgLy8gZ2V0IHRpbWUgZWxhcHNlZFxuXHRcdFx0aWYgKGVsYXBzZWRUaW1lIDw9IGFsbG93ZWRUaW1lKSB7XG5cdFx0XHRcdC8vIGZpcnN0IGNvbmRpdGlvbiBmb3IgYXdpcGUgbWV0XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRNYXRoLmFicyhkaXN0WCkgPj0gdGhyZXNob2xkICYmXG5cdFx0XHRcdFx0TWF0aC5hYnMoZGlzdFkpIDw9IHJlc3RyYWludFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciBob3Jpem9udGFsIHN3aXBlIG1ldFxuXHRcdFx0XHRcdHN3aXBlZGlyID0gZGlzdFggPCAwID8gJ2xlZnQnIDogJ3JpZ2h0JzsgLy8gaWYgZGlzdCB0cmF2ZWxlZCBpcyBuZWdhdGl2ZSwgaXQgaW5kaWNhdGVzIGxlZnQgc3dpcGVcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmIChcblx0XHRcdFx0XHRNYXRoLmFicyhkaXN0WSkgPj0gdGhyZXNob2xkICYmXG5cdFx0XHRcdFx0TWF0aC5hYnMoZGlzdFgpIDw9IHJlc3RyYWludFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHQvLyAybmQgY29uZGl0aW9uIGZvciB2ZXJ0aWNhbCBzd2lwZSBtZXRcblx0XHRcdFx0XHRzd2lwZWRpciA9IGRpc3RZIDwgMCA/ICd1cCcgOiAnZG93bic7IC8vIGlmIGRpc3QgdHJhdmVsZWQgaXMgbmVnYXRpdmUsIGl0IGluZGljYXRlcyB1cCBzd2lwZVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHQkbW92ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JCgnI3doaXRlLWZpbGwnKS5hbmltYXRlKHsgbGVmdDogMCB9LCAyNTApO1xuXHRcdFx0XHQkKCcjc2xpZGVyJykuYW5pbWF0ZSh7IHdpZHRoOiAnODBweCcgfSwgMjUwKTtcblx0XHRcdH0sIDEwMDApO1xuXHRcdFx0aGFuZGxlc3dpcGUoc3dpcGVkaXIpO1xuXHRcdFx0Ly8gZS5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0fSxcblx0XHRmYWxzZVxuXHQpO1xufVxuIl19
