function mouseEnd(e,t){xDirection=oldX<e?"right":"left",yDirection=oldY<t?"down":"up",oldX=e,oldY=t}function goHome(){$body.removeClass("contact-loaded"),$body.removeClass("contact"),clearTimeout($showHome),clearTimeout($contactLoaded),clearTimeout($hideLogo),$showHome=setTimeout(function(){TweenLite.to($container1,.5,{ease:Power2.easeOut,alpha:1}),$body.addClass("mouse-edge"),$logoH=$("#landing hgroup img").height(),TweenLite.fromTo($whiteFillMask.position,1,{ease:Power2.easeOut,y:$winH/2+$logoH/2+10},{ease:Power2.easeOut,y:$winH/2-$logoH})},1200),ga("set",{page:window.location.pathname,title:"Home"}),ga("send","pageview")}function goContact(){$body.addClass("mouse-edge"),TweenLite.to($whiteFill,1,{ease:Power2.easeOut,alpha:0}),clearTimeout($hideLogo),clearTimeout($contactLoaded),clearTimeout($showHome),$body.addClass("contact"),$hideLogo=setTimeout(function(){$logoH=$("#landing hgroup img").height(),TweenLite.fromTo($whiteFillMask.position,1,{ease:Power2.easeOut,y:$winH/2-$logoH},{ease:Power2.easeOut,y:$winH/2+$logoH/2+10}),TweenLite.to($container1,3,{ease:Power2.easeOut,alpha:0}),$contactLoaded=setTimeout(function(){$body.addClass("contact-loaded")},1600)},600),ga("set",{page:window.location.pathname,title:"Contact"}),ga("send","pageview")}function resizeEnd(){$renderer&&($displacement1.scale.x=$size,$displacement1.scale.y=$size,$displacement2.scale.x=$size/2,$displacement2.scale.y=$size/2,$displacement3.scale.x=$size,$displacement3.scale.y=$size,$displacement4.scale.x=$size/2,$displacement4.scale.y=$size/2,$texture1.position.x=0,$texture1.position.y=0,$texture2.position.x=0,$texture2.position.y=0,$texture3.position.x=0,$texture3.position.y=0,$texture4.position.x=0,$texture4.position.y=0,$renderer=null),setBackground()}function setBackground(){function e(){var t=requestAnimationFrame(e);$winW>767&&($texture1.position.y+=.25,$texture2.position.y+=.25,$texture3.position.y+=-.25,$texture4.position.y+=-.25),$renderer?$renderer.render($stage):cancelAnimationFrame(t)}$winW=$(window).width(),$winH=$(window).height(),$renderer=PIXI.autoDetectRenderer($winW,$winH,{transparent:!1,autoResize:!0}),$fill=sxsw.fillscreen(2*$winW,2*$winH,1024,1024),$fillW=$fill.width,$fillH=$fill.height,$fillX=-.5*$winW,$fillY=-.5*($fillH-$winH),PIXI.RESOLUTION=window.devicePixelRatio,$renderer.view.style.position="absolute",$renderer.view.style.left="0px",$renderer.view.style.top="0px",$renderer.view.style.width="100%",$renderer.view.style.height="100%",$stage=new PIXI.Container,$logoW=$("#landing hgroup img").width(),$logoH=$("#landing hgroup img").height();var t=PIXI.Sprite.fromImage("assets/images/type/fifty-seven.svg",void 0,void 0,2);t.position.x=$winW/2,t.position.y=$hiddenLogo.offset().top+$logoH/2,t.scale.x=1,t.scale.y=1,t.width=$logoW,t.height=$logoH,t.anchor.x=.5,t.anchor.y=.5,$texture1=new PIXI.Sprite.fromImage("assets/images/textures/dis1.jpg"),$texture2=new PIXI.Sprite.fromImage("assets/images/textures/dis2.jpg"),$texture3=new PIXI.Sprite.fromImage("assets/images/textures/dis1.jpg"),$texture4=new PIXI.Sprite.fromImage("assets/images/textures/dis2.jpg"),$texture5=new PIXI.Sprite.fromImage("assets/images/textures/dis2.jpg");var i=["assets/images/photo/1-dis.jpg","assets/images/photo/2-dis.jpg","assets/images/photo/3-dis.jpg","assets/images/photo/4-dis.jpg","assets/images/photo/5-dis.jpg"],a=i[Math.floor(Math.random()*i.length)];$image1=PIXI.Sprite.fromImage(a),$container1=new PIXI.Container,$container1wrap=new PIXI.Container,$size=1024,twister=new PIXI.filters.TwistFilter,twister.radius=0,twister.angle=0,twister.width=$logoH,twister.height=$logoH,$displacement5=new PIXI.filters.DisplacementFilter($texture5),$displacement5.width=$logoH,$displacement5.height=$logoH,$displacement5.scale.x=5,$displacement5.scale.y=5,$image2=PIXI.Sprite.fromImage(a),$container2=new PIXI.Container,$displacement1=new PIXI.filters.DisplacementFilter($texture1),$displacement2=new PIXI.filters.DisplacementFilter($texture2),$displacement1.scale.x=$size/2,$displacement1.scale.y=$size/2,$displacement2.scale.x=$size/4,$displacement2.scale.y=$size/4,$displacement3=new PIXI.filters.DisplacementFilter($texture3),$displacement4=new PIXI.filters.DisplacementFilter($texture4),$displacement3.scale.x=$size/2,$displacement3.scale.y=$size/2,$displacement4.scale.x=$size/4,$displacement4.scale.y=$size/4,$image1.filters=[$displacement1,$displacement2],$image1.position.x=$fillX,$image1.position.y=$fillY,$image1.width=$fillW,$image1.height=$fillH,$image1.alpha=1,$image2.filters=[$displacement3,$displacement4],$image2.position.x=$fillX,$image2.position.y=$fillY,$image2.width=$fillW,$image2.height=$fillH,$image2.alpha=.5,($whiteFill=new PIXI.Graphics).beginFill(16777215),$whiteFill.drawRect(0,0,$winW,$winH),$whiteFill.alpha=.05,($whiteFillMask=new PIXI.Graphics).beginFill(16777215),$whiteFillMask.drawRect(0,0,$winW,$winH),$whiteFillMask.position.y=$winH/2+$logoH/2,$whiteFillMask.alpha=1,$container1.addChild($texture1),$container1.addChild($texture2),$container1.addChild($texture5),$container1.mask=t,$container1wrap.addChild($container1),$container1wrap.filters=[twister,$displacement5],$container2.addChild($texture3),$container2.addChild($texture4),$container2.addChild($whiteFill),$container2.addChild($image2),$container2.alpha=0,$stage.addChild($container2),$winW>767&&$stage.addChild($container1wrap),$("#texture").append($renderer.view),e(),$body.removeClass("resizing"),$loaded=!0,$body.hasClass("contact")?$container1.alpha=0:TweenLite.fromTo($container1,4,{ease:Power2.easeOut,alpha:0},{ease:Power2.easeOut,alpha:1}),clearTimeout($backgroundTimeout),$backgroundTimeout=setTimeout(function(){$winW>767?TweenLite.fromTo($container2,5,{ease:Power2.easeOut,alpha:0},{ease:Power2.easeOut,alpha:.9}):TweenLite.fromTo($container2,5,{ease:Power2.easeOut,alpha:0},{ease:Power2.easeOut,alpha:1}),$audio&&($("#sound-btn").hasClass("muted")||(loadSound("assets/audio/loop.mp3"),$body.addClass("audio")))},600),$body.hasClass("mouse-edge")&&TweenLite.to($whiteFillMask.position,1,{ease:Power2.easeOut,y:$winH/2-$logoH}),$contact&&!$body.hasClass("texture-loaded")&&setTimeout(function(){goContact()},1e3),$body.addClass("texture-loaded")}function deviceOrientationHandler(e,t,i){$texture3.position.y=t,$texture4.position.y=-t}function loadSound(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){soundPlaying=!0,audioContext.decodeAudioData(t.response,function(e){e.duration;sampleBuffer=e,playSound(0),$visualizer=setInterval(function(){$audio&&$playing&&$body.hasClass("texture-loaded")&&(array=new Uint8Array(analyser.frequencyBinCount),analyser.getByteFrequencyData(array),TweenLite.to($displacement3.scale,.15,{ease:Power2.easeOut,x:2560*array[4]/150}),TweenLite.to($displacement3.scale,.15,{ease:Power2.easeOut,xy:2560*array[4]/150}))})})},t.send()}function setupSound(){(sound=audioContext.createBufferSource()).buffer=sampleBuffer,sound.loop=loop,sound.loopStart=0,sound.loopEnd=sampleBuffer.duration,sound.connect(audioContext.destination),sound.connect(analyser),analyser.connect(audioContext.destination),sound.connect(gainNode),gainNode.connect(audioContext.destination),sound.playbackRate.value=1}function playSound(e){setupSound(),sound.start(e),$playing=!0}function stopSound(){$playing=!1,soundPlaying=!1,gainNode.gain.exponentialRampToValueAtTime(.001,audioContext.currentTime+2),sound.stop(0),clearInterval($visualizer)}function swipedetect(e,t){var i,a,o,n,s,d,r,l=e[0],c=t||function(e){};l.addEventListener("touchstart",function(e){var t=e.changedTouches[0];i="none",dist=0,swipeVal=0,a=t.pageX,o=t.pageY,r=(new Date).getTime()},!1),l.addEventListener("touchmove",function(e){var t=e.changedTouches[0];swipeVal=t.pageX,$body.addClass("swiping"),$body.hasClass("contact")?($("#white-fill").css("left",Math.min(0,(a-swipeVal)/10)+"px"),$("#slider").css("width",80- -1*Math.min((a-swipeVal)/75,0)+"px")):($("#white-fill").css("left",Math.max((a-swipeVal)/10,0)+"px"),$("#slider").css("width",80-Math.max((a-swipeVal)/75,0)+"px")),e.preventDefault()},!1),l.addEventListener("touchend",function(e){$body.removeClass("swiping"),clearTimeout($moveTimeout);var t=e.changedTouches[0];n=t.pageX-a,s=t.pageY-o,(d=(new Date).getTime()-r)<=2e3&&(Math.abs(n)>=150&&Math.abs(s)<=100?i=n<0?"left":"right":Math.abs(s)>=150&&Math.abs(n)<=100&&(i=s<0?"up":"down")),$moveTimeout=setTimeout(function(){$("#white-fill").animate({left:0},250),$("#slider").animate({width:"80px"},250)},1e3),c(i)},!1)}$body=$("body"),$winW=$(window).width(),$winH=$(window).height(),$renderer=null,$bm=$("#bm");var $animate;$audio=!1;var $visualizer,$showHome,$mouseEnd,$whiteFill,$whiteFillMask,$container1,$backgroundTimeout,$edgeTimeout,$texture1,$texture2,$texture3,$texture4,$texture5,$hideLogo,$moveTimeout,$contactLoaded,$hiddenLogo;swipeVal=0,soundPlaying=!1,$goContact=!1,$goHome=!1;var last_position={};$contact=!1,$loaded=!1,$playing=!1,a=document.createElement("audio"),$audio=!(!a.canPlayType||!a.canPlayType("audio/mpeg;").replace(/no/,"")),isMobile=!1,is_safari=!1,-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(is_safari=!0),is_safari,res=1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(isMobile=!0),$ie=!1,isMobile&&($audio=!1),(document.documentMode||/Edge/.test(navigator.userAgent))&&($ie=!0);var ua=navigator.userAgent.toLowerCase(),isAndroid=ua.indexOf("android")>-1;if("CSS"in window&&"supports"in window.CSS){var support=window.CSS.supports("mix-blend-mode","difference");support=support?"mix-blend-mode":"no-mix-blend-mode",isAndroid?$("html").addClass("no-mix-blend-mode"):$("html").addClass(support)}if($audio){var audioContext=new(window.AudioContext||window.webkitAudioContext),sampleBuffer,sound,loop=!0,frequencyData,analyser,gainNode;if(!$ie){var analyser=audioContext.createAnalyser();(gainNode=audioContext.createGain()).gain.value=1,analyser.fftSize=32;var frequencyData=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(frequencyData)}}$title="FiftySeven® — Design Studio.",History.Adapter.bind(window,"statechange",function(){var e=History.getState();switch($code=e.data.state,$code){case 1:goHome();break;case 2:goContact()}}),$x=0,$y=0;var xDirection="",yDirection="",oldX=0,oldY=0,myX=0,myY=0,el=$(document);$(document).ready(function(){$hiddenLogo=$("#landing hgroup img"),swipedetect(el,function(e){"left"!=e||$body.hasClass("contact")?"right"==e&&$body.hasClass("contact")&&History.pushState({state:1},$title,"/"):History.pushState({state:2},"Contact. "+$title,"/contact")}),$winW=$(window).width(),$winH=$(window).height(),$("#sound-btn").click(function(){$(this).hasClass("muted")?(loadSound("assets/audio/loop.mp3"),$(this).removeClass("muted")):(stopSound(),$(this).addClass("muted"))}),$("#contact-btn, #contact-btn *").click(function(e){$body.hasClass("contact")?History.pushState({state:1},$title,"/"):History.pushState({state:2},"Contact. "+$title,"/contact")}),$("#swipe").on("touchend",function(){$body.hasClass("contact")?History.pushState({state:1},$title,"/"):History.pushState({state:2},"Contact. "+$title,"/contact")})}).mousemove(function(e){if(e.pageX<.2*$winW||e.pageX>.8*$winW||e.pageY<.2*$winH||e.pageY>.8*$winH?$loaded&&!$body.hasClass("contact")&&($body.addClass("mouse-edge"),$edgeTimeout=setTimeout(function(){$logoH=$("#landing hgroup img").height(),TweenLite.to($whiteFillMask.position,1,{ease:Power2.easeOut,y:$hiddenLogo.offset().top})},1100)):clearTimeout($edgeTimeout),$loaded&&($x=e.pageX,$y=e.pageY,twister.radius=.15,twister.angle=-1.5,twister.offset.x=$x/$winW,twister.offset.y=$y/$winH,$texture5.position.x=$x,$texture5.position.y=$y),$winW<767){if(void 0!==last_position.x){var t=last_position.x-event.clientX,i=last_position.y-event.clientY;Math.abs(t)>Math.abs(i)&&t>0&&!$body.hasClass("contact")?($goContact=!0,$goHome=!1):Math.abs(t)>Math.abs(i)&&t<0&&$body.hasClass("contact")&&($goContact=!1,$goHome=!0)}last_position={x:event.clientX,y:event.clientY}}clearTimeout($mouseEnd),myX=e.pageX,myY=e.pageY,$mouseEnd=setTimeout(function(){mouseEnd(myX,myY)},600)}).mouseup(function(){$winW<767&&($goContact?History.pushState({state:2},"Contact. "+$title,"/contact"):$goHome&&History.pushState({state:1},$title,"/"))});var $resizer;$(window).resize(function(){$body.addClass("resizing"),$body.removeClass("texture-loaded"),$winW=$(window).width(),$winH=$(window).height(),$renderer&&($renderer.destroy(),$renderer=null,$("#texture canvas").remove(),!$("#sound-btn").hasClass("muted")&&soundPlaying&&stopSound()),clearInterval($visualizer),clearTimeout($resizer),$resizer=setTimeout(resizeEnd,600)}).load(function(){$winW=$(window).width(),$winH=$(window).height(),$body.addClass("loaded"),"contact"==$(location).attr("href").split("/").splice(0,5).join("/").split("/")[3]?($contact=!0,$(document).prop("title","Contact. "+$title)):$(document).prop("title",$title),setBackground()}),window.DeviceOrientationEvent&&$winW<=767&&window.addEventListener("deviceorientation",function(e){var t=e.gamma,i=e.beta,a=e.alpha;$loaded&&deviceOrientationHandler(t,i,a)},!1);var sxsw={fillscreen:function(e,t,i,a){var o=a/i;return i=e,(a=e*o)<t&&(i=(a=t)/o),{width:i,height:a}}};